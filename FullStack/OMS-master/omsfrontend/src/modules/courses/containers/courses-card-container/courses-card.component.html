<sb-layout-dashboard>
    <sb-dashboard-head title="Courses" [hideBreadcrumbs]="false"></sb-dashboard-head>

    <sb-card>
        <div class="card-header"><fa-icon class="mr-1" [icon]='["fas", "table"]'></fa-icon>
        Courses List
        </div>
        <div class="card-body">
            <div class="row">
                <div class="col-sm-4">
                    <form class="d-flex">
                        <input class="form-control" type="text" name="search" [(ngModel)]="searchText" autocomplete="off" placeholder="Search">
                    </form>
                </div>
                <div class="col-sm-8">
                    <div class="form-group form-inline float-right">
                        <button type="button" class="btn btn-primary mr-1" routerLink="/courses/course-create">
                            <i class="fa fa-user-plus" aria-hidden="true"></i>
                            Add course
                        </button>
                        <div class="btn-group">
                            <div ngbDropdown class="d-inline-block"autoClose="outside" >
                                <button class="btn btn-secondary mr-1" id="export" ngbDropdownToggle>
                                    <i class="fa fa-download" aria-hidden="true"></i>
                                    Export
                                </button>
                                <div ngbDropdownMenu aria-labelledby="dropdownBasic1">
                                    <button ngbDropdownItem type="button" class="btn btn-light btn-sm" (click)="downloadPDF()">
                                        <i class="fa fa-file-pdf-o" aria-hidden="true"></i>
                                        PDF
                                    </button>
                                    <button type="button" class="btn btn-light btn-sm" ngbDropdownItem (click)="downloadExcel()">
                                        <i class="fa fa-file-excel-o" aria-hidden="true"></i>
                                        XLSX
                                    </button>
                                </div>
                            </div>
                        </div>
                        <button type="button" class="btn btn-success mr-1" (click)="open(content)">
                            <i class="fa fa-upload"></i>
                            Import
                        </button>

                        <!--<button class="btn btn-outline-success mr-1" type="submit" (click)="changeDisplay()">
                          <i class="fa fa-th-large" aria-hidden="true"></i>
                        </button>-->
                    </div>
                </div>
            </div>
            <div  class="row">
                <div class="col-4 col-sm-4 col-md-4 col-lg-4" *ngFor="let courses of coursesList ">
                    <div class="card ml-4 mb-4 mr-1">
                        <div class="card-header bg-dark">
                            <span class="text-light">
               {{courses.couresRoot}}
           </span>
                            <span class="float-right text-light">

            <div ngbDropdown class="d-inline-block" autoClose="outside">
          <button class="btn btn-dark" id="export" ngbDropdownToggle>
             <span>
                 <i class="fa fa-ellipsis-v" aria-hidden="true"></i>
             </span>
            </button>
            <div ngbDropdownMenu aria-labelledby="dropdownBasic1">
              <button ngbDropdownItem type="button" class="btn btn-light btn-sm" (click)="viewCourses(courses)">
              <span class="mr-1">
                <i class="fa fa-eye" aria-hidden="true"></i>
              </span>View
              </button>
              <button type="button" class="btn btn-light btn-sm" ngbDropdownItem (click)="editCourses(courses)">
                <span class="mr-1"><i class="fa fa-pencil" aria-hidden="true"></i> </span>Edit
              </button>
               <button type="button" class="btn btn-light btn-sm" ngbDropdownItem (click)="archiveCourses(courses)">
              <span class="mr-1">
                <i class="fa fa-archive" aria-hidden="true"></i>
              </span>Archive
              </button>
            </div>
          </div>
          </span>
                        </div>
                        <div class="card-body flex-row flex-wrap">
                            <div class="row">
                                <div class="col-sm-3 rounded">
                                   <span style="font-size: 3em;">
                                        <i class="fa fa-book" aria-hidden="true"></i>
                                   </span>
                                </div>
                                <div class="col-sm-9">
                                    <p class="text-truncate">
                                        <i class="fa fa-book" aria-hidden="true"></i>
                                        Start Date : {{courses.coursesName}}
                                    </p>
                                    <p class="text-truncate">
                                        <i class="fa fa-television" aria-hidden="true"></i>
                                        Course Type : {{courses.coursesType}}
                                    </p>
                                    <p class="text-truncate">
                                        <i class="fa fa-calendar-o" aria-hidden="true"></i>
                                       Start Date : {{courses.startDate}}
                                    </p>
                                    <p class="text-truncate">
                                        <i class="fa fa-calendar" aria-hidden="true"></i>
                                        End Date : {{courses.endDate}}
                                    </p>
                                    <p class="text-truncate">
                                        <i class="fa fa-hourglass-half" aria-hidden="true"></i>
                                        Time : {{courses.coursesTime}}
                                    </p>
                                    <p class="text-truncate">
                                        <i class="fa fa-clock-o" aria-hidden="true"></i>
                                        Frequency : {{courses.coursesFrequency}}
                                    </p>
                                    <p class="text-truncate">
                                        <i class="fa fa-sort-numeric-desc" aria-hidden="true"></i>
                                        Courses Unit : {{courses.coursesUnit}}
                                    </p>
                                   <!-- <p class="text-truncate">
                                        <i class="fa fa-user" aria-hidden="true"></i>
                                        Teacher : {{courses.teacher}}
                                    </p>
                                    <p class="text-truncate">
                                        <i class="fa fa-television" aria-hidden="true"></i>
                                        Type : {{courses.typeCourse}}
                                    </p>-->

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </sb-card
>
</sb-layout-dashboard>
<ng-template #content let-modal>
    <div style="margin-top: 10px">
        <div class="modal-header">
            <!-- <div class="d-block">
              <h4 class="modal-title" id="modal-basic-title">Upload</h4>
              <div class="alert alert-danger" role="alert">
                Warning:This functionality not working yet !
              </div>
            </div> -->
            <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross Click')">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>

        <div class="modal-body">
            <ngx-dropzone (change)="onSelect($event)">
                <ngx-dropzone-label>Import Courses</ngx-dropzone-label>
                <ngx-dropzone-preview *ngFor="let f of files" [removable]="true" (removed)="onRemove(f)">
                    <ngx-dropzone-label>{{ f.name }} ({{ f.type }})</ngx-dropzone-label>
                </ngx-dropzone-preview>
            </ngx-dropzone>
        </div>

        <div class="modal-footer">
            <button type="button" class="btn btn-outline-dark" (click)="modal.close('Save Click')">Save</button>
        </div>
    </div>
</ng-template>
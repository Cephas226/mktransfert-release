{"version":3,"sources":["webpack:///./src/app/views/pages/apps/e-commerce/customers/customer-edit/customer-edit.dialog.component.html","webpack:///./src/app/views/pages/apps/e-commerce/customers/customer-edit/customer-edit.dialog.component.ts","webpack:///./src/app/views/pages/apps/e-commerce/e-commerce.component.html","webpack:///./src/app/views/pages/apps/e-commerce/e-commerce.component.ts","webpack:///./src/app/views/pages/apps/e-commerce/e-commerce.module.ts","webpack:///./src/app/views/pages/apps/e-commerce/orders/order-edit/order-edit.component.html","webpack:///./src/app/views/pages/apps/e-commerce/orders/order-edit/order-edit.component.ts","webpack:///./src/app/views/pages/apps/e-commerce/orders/orders-list/orders-list.component.html","webpack:///./src/app/views/pages/apps/e-commerce/orders/orders-list/orders-list.component.ts","webpack:///./src/app/views/pages/apps/e-commerce/products/_subs/remarks/remarks-list/remarks-list.component.html","webpack:///./src/app/views/pages/apps/e-commerce/products/_subs/remarks/remarks-list/remarks-list.component.ts","webpack:///./src/app/views/pages/apps/e-commerce/products/_subs/specifications/specification-edit/specification-edit-dialog.component.html","webpack:///./src/app/views/pages/apps/e-commerce/products/_subs/specifications/specification-edit/specification-edit-dialog.component.ts","webpack:///./src/app/views/pages/apps/e-commerce/products/_subs/specifications/specifications-list/specifications-list.component.html","webpack:///./src/app/views/pages/apps/e-commerce/products/_subs/specifications/specifications-list/specifications-list.component.ts","webpack:///./src/app/views/pages/apps/e-commerce/products/product-edit/product-edit.component.html","webpack:///./src/app/views/pages/apps/e-commerce/products/product-edit/product-edit.component.ts","webpack:///./src/app/views/pages/apps/e-commerce/products/products-list/products-list.component.html","webpack:///./src/app/views/pages/apps/e-commerce/products/products-list/products-list.component.ts"],"names":[],"mappings":"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","file":"default~app-views-pages-apps-e-commerce-e-commerce-module~app-views-themes-demo2-theme-module.js","sourcesContent":["module.exports = \"<div class=\\\"kt-portlet\\\"\\r\\n\\t[ngClass]=\\\"{ 'kt-portlet--body-progress kt-portlet--body-progress-overlay' : viewLoading }\\\">\\r\\n\\t<div class=\\\"kt-portlet__head kt-portlet__head__custom\\\">\\r\\n\\t\\t<div class=\\\"kt-portlet__head-label\\\">\\r\\n\\t\\t\\t<h3 class=\\\"kt-portlet__head-title\\\">{{getTitle()}}</h3>\\r\\n\\t\\t</div>\\r\\n\\t</div>\\r\\n\\t<form class=\\\"kt-form\\\" [formGroup]=\\\"customerForm\\\">\\r\\n\\t\\t<div class=\\\"kt-portlet__body\\\">\\r\\n\\r\\n\\t\\t\\t<div class=\\\"kt-portlet__body-progress\\\">\\r\\n\\t\\t\\t\\t<mat-spinner [diameter]=\\\"20\\\"></mat-spinner>\\r\\n\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t<kt-alert *ngIf=\\\"hasFormErrors\\\" type=\\\"warn\\\" [duration]=\\\"30000\\\" [showCloseButton]=\\\"true\\\" (close)=\\\"onAlertClose($event)\\\">\\r\\n\\t\\t\\t\\tOh snap! Change a few things up and try submitting again.\\r\\n\\t\\t\\t</kt-alert>\\r\\n\\r\\n\\t\\t\\t<div class=\\\"form-group kt-form__group row\\\">\\r\\n\\t\\t\\t\\t<div class=\\\"col-lg-4 kt-margin-bottom-20-mobile\\\">\\r\\n\\t\\t\\t\\t\\t<mat-form-field class=\\\"mat-form-field-fluid\\\">\\r\\n\\t\\t\\t\\t\\t\\t<input matInput placeholder=\\\"Enter First Name\\\" formControlName=\\\"firstName\\\" />\\r\\n\\t\\t\\t\\t\\t\\t<mat-error>First Name is\\r\\n\\t\\t\\t\\t\\t\\t\\t<strong>required</strong>\\r\\n\\t\\t\\t\\t\\t\\t</mat-error>\\r\\n\\t\\t\\t\\t\\t\\t<mat-hint align=\\\"start\\\">Please enter\\r\\n\\t\\t\\t\\t\\t\\t\\t<strong>First Name</strong>\\r\\n\\t\\t\\t\\t\\t\\t</mat-hint>\\r\\n\\t\\t\\t\\t\\t</mat-form-field>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t<div class=\\\"col-lg-4 kt-margin-bottom-20-mobile\\\">\\r\\n\\t\\t\\t\\t\\t<mat-form-field class=\\\"mat-form-field-fluid\\\">\\r\\n\\t\\t\\t\\t\\t\\t<input matInput placeholder=\\\"Enter Last Name\\\" formControlName=\\\"lastName\\\" />\\r\\n\\t\\t\\t\\t\\t\\t<mat-error>Last Name is\\r\\n\\t\\t\\t\\t\\t\\t\\t<strong>required</strong>\\r\\n\\t\\t\\t\\t\\t\\t</mat-error>\\r\\n\\t\\t\\t\\t\\t\\t<mat-hint align=\\\"start\\\">Please enter\\r\\n\\t\\t\\t\\t\\t\\t\\t<strong>Last Name</strong>\\r\\n\\t\\t\\t\\t\\t\\t</mat-hint>\\r\\n\\t\\t\\t\\t\\t</mat-form-field>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t<div class=\\\"col-lg-4 kt-margin-bottom-20-mobile\\\">\\r\\n\\t\\t\\t\\t\\t<mat-form-field class=\\\"mat-form-field-fluid\\\">\\r\\n\\t\\t\\t\\t\\t\\t<input matInput placeholder=\\\"Enter Login\\\" formControlName=\\\"userName\\\" />\\r\\n\\t\\t\\t\\t\\t\\t<mat-error>Login is\\r\\n\\t\\t\\t\\t\\t\\t\\t<strong>required</strong>\\r\\n\\t\\t\\t\\t\\t\\t</mat-error>\\r\\n\\t\\t\\t\\t\\t\\t<mat-hint align=\\\"start\\\">Please enter\\r\\n\\t\\t\\t\\t\\t\\t\\t<strong>Login</strong>\\r\\n\\t\\t\\t\\t\\t\\t</mat-hint>\\r\\n\\t\\t\\t\\t\\t</mat-form-field>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t<div class=\\\"kt-separator kt-separator--dashed\\\"></div>\\r\\n\\t\\t\\t<div class=\\\"form-group kt-form__group row\\\">\\r\\n\\t\\t\\t\\t<div class=\\\"col-lg-4 kt-margin-bottom-20-mobile\\\">\\r\\n\\t\\t\\t\\t\\t<mat-form-field class=\\\"mat-form-field-fluid\\\">\\r\\n\\t\\t\\t\\t\\t\\t<input type=\\\"email\\\" matInput placeholder=\\\"Enter Email\\\" formControlName=\\\"email\\\" />\\r\\n\\t\\t\\t\\t\\t\\t<mat-error>Email is\\r\\n\\t\\t\\t\\t\\t\\t\\t<strong>required</strong>\\r\\n\\t\\t\\t\\t\\t\\t</mat-error>\\r\\n\\t\\t\\t\\t\\t\\t<mat-hint align=\\\"start\\\">Please enter\\r\\n\\t\\t\\t\\t\\t\\t\\t<strong>Email</strong>\\r\\n\\t\\t\\t\\t\\t\\t</mat-hint>\\r\\n\\t\\t\\t\\t\\t</mat-form-field>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t<div class=\\\"col-lg-4 kt-margin-bottom-20-mobile\\\">\\r\\n\\t\\t\\t\\t\\t<mat-form-field class=\\\"mat-form-field-fluid\\\">\\r\\n\\t\\t\\t\\t\\t\\t<input matInput [matDatepicker]=\\\"picker\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\tplaceholder=\\\"Choose a Date of Birth\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\tformControlName=\\\"dob\\\" />\\r\\n\\t\\t\\t\\t\\t\\t<mat-datepicker-toggle matSuffix [for]=\\\"picker\\\"></mat-datepicker-toggle>\\r\\n\\t\\t\\t\\t\\t\\t<mat-datepicker #picker></mat-datepicker>\\r\\n\\t\\t\\t\\t\\t\\t<mat-hint align=\\\"start\\\">Please enter\\r\\n\\t\\t\\t\\t\\t\\t\\t<strong>Date of Birth</strong> in 'mm/dd/yyyy' format</mat-hint>\\r\\n\\t\\t\\t\\t\\t</mat-form-field>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t<div class=\\\"col-lg-4 kt-margin-bottom-20-mobile\\\">\\r\\n\\t\\t\\t\\t\\t<mat-form-field class=\\\"mat-form-field-fluid\\\">\\r\\n\\t\\t\\t\\t\\t\\t<input type=\\\"email\\\" matInput placeholder=\\\"Enter IP Address\\\" formControlName=\\\"ipAddress\\\" />\\r\\n\\t\\t\\t\\t\\t\\t<mat-error>IP Address\\r\\n\\t\\t\\t\\t\\t\\t\\t<strong>required</strong>\\r\\n\\t\\t\\t\\t\\t\\t</mat-error>\\r\\n\\t\\t\\t\\t\\t\\t<mat-hint align=\\\"start\\\">We'll never share customer\\r\\n\\t\\t\\t\\t\\t\\t\\t<strong>IP Address</strong> with anyone else</mat-hint>\\r\\n\\t\\t\\t\\t\\t</mat-form-field>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t<div class=\\\"kt-separator kt-separator--dashed\\\"></div>\\r\\n\\t\\t\\t<div class=\\\"form-group kt-form__group row\\\">\\r\\n\\t\\t\\t\\t<div class=\\\"col-lg-4 kt-margin-bottom-20-mobile\\\">\\r\\n\\t\\t\\t\\t\\t<mat-form-field class=\\\"mat-form-field-fluid\\\">\\r\\n\\t\\t\\t\\t\\t\\t<mat-select placeholder=\\\"Gender\\\" formControlName=\\\"gender\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<mat-option value=\\\"Female\\\">Female</mat-option>\\r\\n\\t\\t\\t\\t\\t\\t\\t<mat-option value=\\\"Male\\\">Male</mat-option>\\r\\n\\t\\t\\t\\t\\t\\t</mat-select>\\r\\n\\t\\t\\t\\t\\t\\t<mat-hint align=\\\"start\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<strong>Gender</strong>\\r\\n\\t\\t\\t\\t\\t\\t</mat-hint>\\r\\n\\t\\t\\t\\t\\t</mat-form-field>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t<div class=\\\"col-lg-4 kt-margin-bottom-20-mobile\\\">\\r\\n\\t\\t\\t\\t\\t<mat-form-field class=\\\"mat-form-field-fluid\\\">\\r\\n\\t\\t\\t\\t\\t\\t<mat-select placeholder=\\\"Type\\\" formControlName=\\\"type\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<mat-option value=\\\"0\\\">Business</mat-option>\\r\\n\\t\\t\\t\\t\\t\\t\\t<mat-option value=\\\"1\\\">Individual</mat-option>\\r\\n\\t\\t\\t\\t\\t\\t</mat-select>\\r\\n\\t\\t\\t\\t\\t\\t<mat-hint align=\\\"start\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<strong>Account Type</strong>\\r\\n\\t\\t\\t\\t\\t\\t</mat-hint>\\r\\n\\t\\t\\t\\t\\t</mat-form-field>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</div>\\r\\n\\t\\t<div class=\\\"kt-portlet__foot kt-portlet__no-border kt-portlet__foot--fit\\\">\\r\\n\\t\\t\\t<div class=\\\"kt-form__actions kt-form__actions--solid\\\">\\r\\n\\t\\t\\t\\t<div class=\\\"row text-right\\\">\\r\\n\\t\\t\\t\\t\\t<div class=\\\"col-lg-12\\\">\\r\\n\\t\\t\\t\\t\\t\\t<button type=\\\"button\\\" mat-raised-button [mat-dialog-close]=\\\"data.animal\\\" cdkFocusInitial matTooltip=\\\"Cancel changes\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\tCancel\\r\\n\\t\\t\\t\\t\\t\\t</button>&nbsp;\\r\\n\\t\\t\\t\\t\\t\\t<button type=\\\"button\\\" mat-raised-button color=\\\"primary\\\" (click)=\\\"onSubmit()\\\" [disabled]=\\\"viewLoading\\\" matTooltip=\\\"Save changes\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\tSave\\r\\n\\t\\t\\t\\t\\t\\t</button>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</div>\\r\\n\\t</form>\\r\\n</div>\\r\\n\"","// Angular\r\nimport { Component, OnInit, Inject, ChangeDetectionStrategy, ViewEncapsulation, OnDestroy } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\n// Material\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\r\n// RxJS\r\nimport { Subscription, of } from 'rxjs';\r\nimport { delay } from 'rxjs/operators';\r\n// NGRX\r\nimport { Update } from '@ngrx/entity';\r\nimport { Store, select } from '@ngrx/store';\r\n// State\r\nimport { AppState } from '../../../../../../core/reducers';\r\n// CRUD\r\nimport { TypesUtilsService } from '../../../../../../core/_base/crud';\r\n// Services and Models\r\nimport { CustomerModel, CustomerUpdated, CustomerOnServerCreated, selectLastCreatedCustomerId, selectCustomersPageLoading, selectCustomersActionLoading } from '../../../../../../core/e-commerce';\r\n\r\n@Component({\r\n\t// tslint:disable-next-line:component-selector\r\n\tselector: 'kt-customers-edit-dialog',\r\n\ttemplateUrl: './customer-edit.dialog.component.html',\r\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\r\n\tencapsulation: ViewEncapsulation.None\r\n})\r\nexport class CustomerEditDialogComponent implements OnInit, OnDestroy {\r\n\t// Public properties\r\n\tcustomer: CustomerModel;\r\n\tcustomerForm: FormGroup;\r\n\thasFormErrors: boolean = false;\r\n\tviewLoading: boolean = false;\r\n\t// Private properties\r\n\tprivate componentSubscriptions: Subscription;\r\n\r\n\t/**\r\n\t * Component constructor\r\n\t *\r\n\t * @param dialogRef: MatDialogRef<CustomerEditDialogComponent>\r\n\t * @param data: any\r\n\t * @param fb: FormBuilder\r\n\t * @param store: Store<AppState>\r\n\t * @param typesUtilsService: TypesUtilsService\r\n\t */\r\n\tconstructor(public dialogRef: MatDialogRef<CustomerEditDialogComponent>,\r\n\t\t@Inject(MAT_DIALOG_DATA) public data: any,\r\n\t\tprivate fb: FormBuilder,\r\n\t\tprivate store: Store<AppState>,\r\n\t\tprivate typesUtilsService: TypesUtilsService) {\r\n\t}\r\n\r\n\t/**\r\n\t * @ Lifecycle sequences => https://angular.io/guide/lifecycle-hooks\r\n\t */\r\n\r\n\t/**\r\n\t * On init\r\n\t */\r\n\tngOnInit() {\r\n\t\tthis.store.pipe(select(selectCustomersActionLoading)).subscribe(res => this.viewLoading = res);\r\n\t\tthis.customer = this.data.customer;\r\n\t\tthis.createForm();\r\n\t}\r\n\r\n\t/**\r\n\t * On destroy\r\n\t */\r\n\tngOnDestroy() {\r\n\t\tif (this.componentSubscriptions) {\r\n\t\t\tthis.componentSubscriptions.unsubscribe();\r\n\t\t}\r\n\t}\r\n\r\n\tcreateForm() {\r\n\t\tthis.customerForm = this.fb.group({\r\n\t\t\tfirstName: [this.customer.firstName, Validators.required],\r\n\t\t\tlastName: [this.customer.lastName, Validators.required],\r\n\t\t\temail: [ this.customer.email, Validators.compose([Validators.required, Validators.email]) ],\r\n\t\t\tdob: [this.typesUtilsService.getDateFromString(this.customer.dateOfBbirth), Validators.compose([Validators.nullValidator])],\r\n\t\t\tuserName: [this.customer.userName, Validators.compose([Validators.required])],\r\n\t\t\tgender: [this.customer.gender, Validators.compose([Validators.required])],\r\n\t\t\tipAddress: [this.customer.ipAddress, Validators.compose([Validators.required])],\r\n\t\t\ttype: [this.customer.type.toString(), Validators.compose([Validators.required])]\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Returns page title\r\n\t */\r\n\tgetTitle(): string {\r\n\t\tif (this.customer.id > 0) {\r\n\t\t\treturn `Edit customer '${this.customer.firstName} ${\r\n\t\t\t\tthis.customer.lastName\r\n\t\t\t}'`;\r\n\t\t}\r\n\r\n\t\treturn 'New customer';\r\n\t}\r\n\r\n\t/**\r\n\t * Check control is invalid\r\n\t * @param controlName: string\r\n\t */\r\n\tisControlInvalid(controlName: string): boolean {\r\n\t\tconst control = this.customerForm.controls[controlName];\r\n\t\tconst result = control.invalid && control.touched;\r\n\t\treturn result;\r\n\t}\r\n\r\n\t/** ACTIONS */\r\n\r\n\t/**\r\n\t * Returns prepared customer\r\n\t */\r\n\tprepareCustomer(): CustomerModel {\r\n\t\tconst controls = this.customerForm.controls;\r\n\t\tconst _customer = new CustomerModel();\r\n\t\t_customer.id = this.customer.id;\r\n\t\tconst _date = controls['dob'].value;\r\n\t\tif (_date) {\r\n\t\t\t_customer.dateOfBbirth = this.typesUtilsService.dateFormat(_date);\r\n\t\t} else {\r\n\t\t\t_customer.dateOfBbirth = '';\r\n\t\t}\r\n\t\t_customer.firstName = controls['firstName'].value;\r\n\t\t_customer.lastName = controls['lastName'].value;\r\n\t\t_customer.email = controls['email'].value;\r\n\t\t_customer.userName = controls['userName'].value;\r\n\t\t_customer.gender = controls['gender'].value;\r\n\t\t_customer.ipAddress = controls['ipAddress'].value;\r\n\t\t_customer.type = +controls['type'].value;\r\n\t\t_customer.status = this.customer.status;\r\n\t\treturn _customer;\r\n\t}\r\n\r\n\t/**\r\n\t * On Submit\r\n\t */\r\n\tonSubmit() {\r\n\t\tthis.hasFormErrors = false;\r\n\t\tconst controls = this.customerForm.controls;\r\n\t\t/** check form */\r\n\t\tif (this.customerForm.invalid) {\r\n\t\t\tObject.keys(controls).forEach(controlName =>\r\n\t\t\t\tcontrols[controlName].markAsTouched()\r\n\t\t\t);\r\n\r\n\t\t\tthis.hasFormErrors = true;\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst editedCustomer = this.prepareCustomer();\r\n\t\tif (editedCustomer.id > 0) {\r\n\t\t\tthis.updateCustomer(editedCustomer);\r\n\t\t} else {\r\n\t\t\tthis.createCustomer(editedCustomer);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Update customer\r\n\t *\r\n\t * @param _customer: CustomerModel\r\n\t */\r\n\tupdateCustomer(_customer: CustomerModel) {\r\n\t\tconst updateCustomer: Update<CustomerModel> = {\r\n\t\t\tid: _customer.id,\r\n\t\t\tchanges: _customer\r\n\t\t};\r\n\t\tthis.store.dispatch(new CustomerUpdated({\r\n\t\t\tpartialCustomer: updateCustomer,\r\n\t\t\tcustomer: _customer\r\n\t\t}));\r\n\r\n\t\t// Remove this line\r\n\t\tof(undefined).pipe(delay(1000)).subscribe(() => this.dialogRef.close({ _customer, isEdit: true }));\r\n\t\t// Uncomment this line\r\n\t\t// this.dialogRef.close({ _customer, isEdit: true }\r\n\t}\r\n\r\n\t/**\r\n\t * Create customer\r\n\t *\r\n\t * @param _customer: CustomerModel\r\n\t */\r\n\tcreateCustomer(_customer: CustomerModel) {\r\n\t\tthis.store.dispatch(new CustomerOnServerCreated({ customer: _customer }));\r\n\t\tthis.componentSubscriptions = this.store.pipe(\r\n\t\t\tselect(selectLastCreatedCustomerId),\r\n\t\t\tdelay(1000), // Remove this line\r\n\t\t).subscribe(res => {\r\n\t\t\tif (!res) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.dialogRef.close({ _customer, isEdit: false });\r\n\t\t});\r\n\t}\r\n\r\n\t/** Alect Close event */\r\n\tonAlertClose($event) {\r\n\t\tthis.hasFormErrors = false;\r\n\t}\r\n}\r\n","module.exports = \"<router-outlet></router-outlet>\\r\\n\"","// Angular\r\nimport { Component, OnInit, ChangeDetectionStrategy } from '@angular/core';\r\n\r\n@Component({\r\n\ttemplateUrl: './e-commerce.component.html',\r\n\tchangeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class ECommerceComponent implements OnInit {\r\n\t/**\r\n\t * Component constructor\r\n\t *\r\n\t * @param store: Store<AppState>\r\n\t * @param router: Router\r\n\t */\r\n\tconstructor() {}\r\n\r\n\t/*\r\n\t * @ Lifecycle sequences => https://angular.io/guide/lifecycle-hooks\r\n    */\r\n\r\n\t/**\r\n\t * On init\r\n\t */\r\n\tngOnInit() {}\r\n}\r\n","// Angular\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { HttpClientModule, HTTP_INTERCEPTORS } from '@angular/common/http';\r\n// Fake API Angular-in-memory\r\nimport { HttpClientInMemoryWebApiModule } from 'angular-in-memory-web-api';\r\n// Translate Module\r\nimport { TranslateModule } from '@ngx-translate/core';\r\n// NGRX\r\nimport { StoreModule } from '@ngrx/store';\r\nimport { EffectsModule } from '@ngrx/effects';\r\n// UI\r\nimport { PartialsModule } from '../../../partials/partials.module';\r\n// Core\r\nimport { FakeApiService } from '../../../../core/_base/metronic';\r\n// Auth\r\nimport { ModuleGuard } from '../../../../core/auth';\r\n// Core => Services\r\nimport {\r\n\tcustomersReducer,\r\n\tCustomerEffects,\r\n\tCustomersService,\r\n\tproductsReducer,\r\n\tProductEffects,\r\n\tProductsService,\r\n\tproductRemarksReducer,\r\n\tProductRemarkEffects,\r\n\tProductRemarksService,\r\n\tproductSpecificationsReducer,\r\n\tProductSpecificationEffects,\r\n\tProductSpecificationsService\r\n} from '../../../../core/e-commerce';\r\n// Core => Utils\r\nimport { HttpUtilsService,\r\n\tTypesUtilsService,\r\n\tInterceptService,\r\n\tLayoutUtilsService\r\n} from '../../../../core/_base/crud';\r\n// Shared\r\nimport {\r\n\tActionNotificationComponent,\r\n\tDeleteEntityDialogComponent,\r\n\tFetchEntityDialogComponent,\r\n\tUpdateStatusDialogComponent\r\n} from '../../../partials/content/crud';\r\n// Components\r\nimport { ECommerceComponent } from './e-commerce.component';\r\n// Customers\r\n// import { CustomersListComponent } from './customers/customers-list/customers-list.component';\r\n// import { CustomerEditDialogComponent } from './customers/customer-edit/customer-edit.dialog.component';\r\n// Products\r\nimport { ProductsListComponent } from './products/products-list/products-list.component';\r\nimport { ProductEditComponent } from './products/product-edit/product-edit.component';\r\nimport { RemarksListComponent } from './products/_subs/remarks/remarks-list/remarks-list.component';\r\nimport { SpecificationsListComponent } from './products/_subs/specifications/specifications-list/specifications-list.component';\r\nimport { SpecificationEditDialogComponent } from './products/_subs/specifications/specification-edit/specification-edit-dialog.component';\r\n// Orders\r\nimport { OrdersListComponent } from './orders/orders-list/orders-list.component';\r\nimport { OrderEditComponent } from './orders/order-edit/order-edit.component';\r\n// Material\r\nimport {\r\n\tMatInputModule,\r\n\tMatPaginatorModule,\r\n\tMatProgressSpinnerModule,\r\n\tMatSortModule,\r\n\tMatTableModule,\r\n\tMatSelectModule,\r\n\tMatMenuModule,\r\n\tMatProgressBarModule,\r\n\tMatButtonModule,\r\n\tMatCheckboxModule,\r\n\tMatDialogModule,\r\n\tMatTabsModule,\r\n\tMatNativeDateModule,\r\n\tMatCardModule,\r\n\tMatRadioModule,\r\n\tMatIconModule,\r\n\tMatDatepickerModule,\r\n\tMatAutocompleteModule,\r\n\tMAT_DIALOG_DEFAULT_OPTIONS,\r\n\tMatSnackBarModule,\r\n\tMatTooltipModule\r\n} from '@angular/material';\r\nimport { environment } from '../../../../../environments/environment';\r\nimport { CoreModule } from '../../../../core/core.module';\r\nimport { NgbProgressbarModule, NgbProgressbarConfig } from '@ng-bootstrap/ng-bootstrap';\r\nimport { NgxPermissionsModule } from 'ngx-permissions';\r\nimport { CustomerEditDialogComponent } from './customers/customer-edit/customer-edit.dialog.component';\r\n\r\n// tslint:disable-next-line:class-name\r\nconst routes: Routes = [\r\n\t{\r\n\t\tpath: '',\r\n\t\tcomponent: ECommerceComponent,\r\n\t\t// canActivate: [ModuleGuard],\r\n\t\t// data: { moduleName: 'ecommerce' },\r\n\t\tchildren: [\r\n\t\t\t{\r\n\t\t\t\tpath: '',\r\n\t\t\t\tredirectTo: 'customers',\r\n\t\t\t\tpathMatch: 'full'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: 'customers',\r\n\t\t\t\t// component: CustomersListComponent\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: 'orders',\r\n\t\t\t\tcomponent: OrdersListComponent\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: 'products',\r\n\t\t\t\tcomponent: ProductsListComponent,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: 'products/add',\r\n\t\t\t\tcomponent: ProductEditComponent\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: 'products/edit',\r\n\t\t\t\tcomponent: ProductEditComponent\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: 'products/edit/:id',\r\n\t\t\t\tcomponent: ProductEditComponent\r\n\t\t\t},\r\n\t\t]\r\n\t}\r\n];\r\n\r\n@NgModule({\r\n\timports: [\r\n\t\tMatDialogModule,\r\n\t\tCommonModule,\r\n\t\tHttpClientModule,\r\n\t\tPartialsModule,\r\n\t\tNgxPermissionsModule.forChild(),\r\n\t\tRouterModule.forChild(routes),\r\n\t\tFormsModule,\r\n\t\tReactiveFormsModule,\r\n\t\tTranslateModule.forChild(),\r\n\t\tMatButtonModule,\r\n\t\tMatMenuModule,\r\n\t\tMatSelectModule,\r\n        MatInputModule,\r\n\t\tMatTableModule,\r\n\t\tMatAutocompleteModule,\r\n\t\tMatRadioModule,\r\n\t\tMatIconModule,\r\n\t\tMatNativeDateModule,\r\n\t\tMatProgressBarModule,\r\n\t\tMatDatepickerModule,\r\n\t\tMatCardModule,\r\n\t\tMatPaginatorModule,\r\n\t\tMatSortModule,\r\n\t\tMatCheckboxModule,\r\n\t\tMatProgressSpinnerModule,\r\n\t\tMatSnackBarModule,\r\n\t\tMatTabsModule,\r\n\t\tMatTooltipModule,\r\n\t\tNgbProgressbarModule,\r\n\t\tenvironment.isMockEnabled ? HttpClientInMemoryWebApiModule.forFeature(FakeApiService, {\r\n\t\t\tpassThruUnknownUrl: true,\r\n        \tdataEncapsulation: false\r\n\t\t}) : [],\r\n\t\tStoreModule.forFeature('products', productsReducer),\r\n\t\tEffectsModule.forFeature([ProductEffects]),\r\n\t\tStoreModule.forFeature('customers', customersReducer),\r\n\t\tEffectsModule.forFeature([CustomerEffects]),\r\n\t\tStoreModule.forFeature('productRemarks', productRemarksReducer),\r\n\t\tEffectsModule.forFeature([ProductRemarkEffects]),\r\n\t\tStoreModule.forFeature('productSpecifications', productSpecificationsReducer),\r\n\t\tEffectsModule.forFeature([ProductSpecificationEffects]),\r\n\t],\r\n\tproviders: [\r\n\t\tModuleGuard,\r\n\t\tInterceptService,\r\n      \t{\r\n        \tprovide: HTTP_INTERCEPTORS,\r\n       \t \tuseClass: InterceptService,\r\n        \tmulti: true\r\n      \t},\r\n\t\t{\r\n\t\t\tprovide: MAT_DIALOG_DEFAULT_OPTIONS,\r\n\t\t\tuseValue: {\r\n\t\t\t\thasBackdrop: true,\r\n\t\t\t\tpanelClass: 'kt-mat-dialog-container__wrapper',\r\n\t\t\t\theight: 'auto',\r\n\t\t\t\twidth: '900px'\r\n\t\t\t}\r\n\t\t},\r\n\t\tTypesUtilsService,\r\n\t\tLayoutUtilsService,\r\n\t\tHttpUtilsService,\r\n\t\tCustomersService,\r\n\t\tProductRemarksService,\r\n\t\tProductSpecificationsService,\r\n\t\tProductsService,\r\n\t\tTypesUtilsService,\r\n\t\tLayoutUtilsService\r\n\t],\r\n\tentryComponents: [\r\n\t\tActionNotificationComponent,\r\n\t\t// CustomerEditDialogComponent,\r\n\t\tDeleteEntityDialogComponent,\r\n\t\tFetchEntityDialogComponent,\r\n\t\tUpdateStatusDialogComponent,\r\n\t\tSpecificationEditDialogComponent\r\n\t],\r\n\tdeclarations: [\r\n\t\tCustomerEditDialogComponent,\r\n\t\tECommerceComponent,\r\n\t\t// Customers\r\n\t\t// CustomersListComponent,\r\n\t\t// CustomerEditDialogComponent,\r\n\t\t// Orders\r\n\t\tOrdersListComponent,\r\n\t\tOrderEditComponent,\r\n\t\t// Products\r\n\t\tProductsListComponent,\r\n\t\tProductEditComponent,\r\n\t\tRemarksListComponent,\r\n\t\tSpecificationsListComponent,\r\n\t\tSpecificationEditDialogComponent\r\n\t]\r\n})\r\nexport class ECommerceModule { }\r\n","module.exports = \"order edit\"","// Angular\r\nimport { Component } from '@angular/core';\r\n\r\n@Component({\r\n\tselector: 'kt-order-edit',\r\n\ttemplateUrl: './order-edit.component.html'\r\n})\r\nexport class OrderEditComponent { }\r\n","module.exports = \"<p>\\r\\n\\t<b>Orders:</b> - Coming soon in the following update.\\r\\n</p>\\r\\n\"","// Angular\r\nimport { Component, ChangeDetectionStrategy } from '@angular/core';\r\n\r\n@Component({\r\n\tselector: 'kt-orders-list',\r\n\ttemplateUrl: './orders-list.component.html',\r\n\tchangeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class OrdersListComponent { }\r\n","module.exports = \"<!-- start::FILTERS & GROUP ACTIONS -->\\r\\n<div class=\\\"kt-form\\\">\\r\\n\\t<!-- start::FILTERS -->\\r\\n\\t<div class=\\\"kt-form__filtration\\\">\\r\\n\\t\\t<div class=\\\"row align-items-center\\\">\\r\\n\\t\\t\\t<div class=\\\"col-md-2 kt-margin-bottom-10-mobile\\\">\\r\\n\\t\\t\\t\\t<mat-form-field class=\\\"mat-form-field-fluid\\\">\\r\\n\\t\\t\\t\\t\\t<input matInput placeholder=\\\"Search product remark\\\" #searchInput placeholder=\\\"Search\\\">\\r\\n\\t\\t\\t\\t\\t<mat-hint align=\\\"start\\\">Search in all fields</mat-hint>\\r\\n\\t\\t\\t\\t</mat-form-field>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t<div class=\\\"col-md-8 kt-margin-bottom-10-mobile\\\"></div>\\r\\n\\t\\t\\t<div class=\\\"col-md-2 text-right kt-margin-bottom-10-mobile\\\">\\r\\n\\t\\t\\t\\t<button type=\\\"button\\\"\\r\\n\\t\\t\\t\\t\\t(click)=\\\"addRemarkButtonOnClick()\\\"\\r\\n\\t\\t\\t\\t\\tmat-raised-button\\r\\n\\t\\t\\t\\t\\tcolor=\\\"primary\\\"\\r\\n\\t\\t\\t\\t\\tmatTooltip=\\\"Create new remark\\\"\\r\\n\\t\\t\\t\\t\\t[disabled]=\\\"remarkForAdd._isEditMode || isSwitchedToEditMode\\\">New remark</button>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</div>\\r\\n\\t</div>\\r\\n\\t<!-- end::FILTERS -->\\r\\n\\r\\n\\t<!-- start::GROUP ACTIONS -->\\r\\n\\t<!-- Group actions list: 'Delete selected' | 'Fetch selected' | 'Update status for selected' -->\\r\\n\\t<!-- Group actions are shared for all LISTS | See '../../_shared' folder -->\\r\\n\\t<div class=\\\"row align-items-center collapse kt-form__group-actions kt-margin-bottom-20\\\" [ngClass]=\\\"{'show' : selection.selected.length > 0}\\\">\\r\\n\\t\\t<div class=\\\"col-xl-12\\\">\\r\\n\\t\\t\\t<div class=\\\"kt-form__group kt-form__group--inline\\\">\\r\\n\\t\\t\\t\\t<div class=\\\"kt-form__label kt-form__label-no-wrap\\\">\\r\\n\\t\\t\\t\\t\\t<label class=\\\"kt--font-bold kt-font-danger-\\\">Selected records count: {{ selection.selected.length }}</label>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t<div class=\\\"kt-form__control kt-form__group--inline\\\">\\r\\n\\t\\t\\t\\t\\t<div>\\r\\n\\t\\t\\t\\t\\t\\t<button mat-raised-button color=\\\"accent\\\" (click)=\\\"deleteRemarks()\\\" matTooltip=\\\"Delete selected remarks\\\">Delete All</button>\\r\\n\\t\\t\\t\\t\\t\\t&nbsp;&nbsp;&nbsp;\\r\\n\\t\\t\\t\\t\\t\\t<button mat-raised-button color=\\\"warn\\\" (click)=\\\"fetchRemarks()\\\" matTooltip=\\\"Fetch selected remarks\\\">Fetch Selected Records</button>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</div>\\r\\n\\t</div>\\r\\n\\t <!-- end::GROUP ACTIONS -->\\r\\n\\r\\n</div>\\r\\n<!-- end::FILTERS & GROUP ACTIONS -->\\r\\n\\r\\n<!-- MATERIAL TABLE | Binded to datasources -->\\r\\n<!-- See off.documentations 'https://material.angular.io/components/table/overview' -->\\r\\n<div class=\\\"mat-table__wrapper\\\">\\r\\n\\t<form [formGroup]=\\\"formGroup\\\">\\r\\n\\t\\t<mat-table class=\\\"lmat-elevation-z8\\\" [dataSource]=\\\"dataSource\\\" matSort matSortActive=\\\"text\\\" matSortDirection=\\\"asc\\\" matSortDisableClear>\\r\\n\\t\\t\\t<!-- Checkbox Column -->\\r\\n\\t\\t\\t<!-- Table with selection -->\\r\\n\\t\\t\\t<!-- https://run.stackblitz.com/api/angular/v1?file=app%2Ftable-selection-example.ts -->\\r\\n\\t\\t\\t<ng-container matColumnDef=\\\"add-select\\\">\\r\\n\\t\\t\\t\\t<mat-header-cell *matHeaderCellDef class=\\\"mat-column mat-column-checkbox\\\">\\r\\n\\t\\t\\t\\t\\t<span *ngIf=\\\"remarkForAdd._isEditMode\\\">New remark:</span>\\r\\n\\t\\t\\t\\t</mat-header-cell>\\r\\n\\t\\t\\t</ng-container>\\r\\n\\r\\n\\t\\t\\t<ng-container matColumnDef=\\\"add-id\\\">\\r\\n\\t\\t\\t\\t<mat-header-cell *matHeaderCellDef class=\\\"mat-column mat-column-id\\\"></mat-header-cell>\\r\\n\\t\\t\\t</ng-container>\\r\\n\\r\\n\\t\\t\\t<ng-container matColumnDef=\\\"add-text\\\">\\r\\n\\t\\t\\t\\t<mat-header-cell *matHeaderCellDef class=\\\"mat-column mat-column-main\\\">\\r\\n\\t\\t\\t\\t\\t<mat-form-field *ngIf=\\\"remarkForAdd._isEditMode\\\" class=\\\"mat-form-field-fluid\\\">\\r\\n\\t\\t\\t\\t\\t\\t<input matInput placeholder=\\\"Enter Remark text\\\" formControlName=\\\"newText\\\">\\r\\n\\t\\t\\t\\t\\t\\t<mat-hint align=\\\"start\\\">Please enter\\r\\n\\t\\t\\t\\t\\t\\t\\t<strong>Text</strong>\\r\\n\\t\\t\\t\\t\\t\\t</mat-hint>\\r\\n\\t\\t\\t\\t\\t</mat-form-field>\\r\\n\\t\\t\\t\\t</mat-header-cell>\\r\\n\\t\\t\\t</ng-container>\\r\\n\\r\\n\\t\\t\\t<ng-container matColumnDef=\\\"add-type\\\">\\r\\n\\t\\t\\t\\t<mat-header-cell *matHeaderCellDef class=\\\"mat-column\\\">\\r\\n\\t\\t\\t\\t\\t<mat-form-field *ngIf=\\\"remarkForAdd._isEditMode\\\" class=\\\"mat-form-field-fluid\\\">\\r\\n\\t\\t\\t\\t\\t\\t<mat-select placeholder=\\\"Type\\\" formControlName=\\\"newType\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<mat-option value=\\\"0\\\">Info</mat-option>\\r\\n\\t\\t\\t\\t\\t\\t\\t<mat-option value=\\\"1\\\">Note</mat-option>\\r\\n\\t\\t\\t\\t\\t\\t\\t<mat-option value=\\\"2\\\">Reminder</mat-option>\\r\\n\\t\\t\\t\\t\\t\\t</mat-select>\\r\\n\\t\\t\\t\\t\\t\\t<mat-hint align=\\\"start\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<strong>Select remark type</strong>\\r\\n\\t\\t\\t\\t\\t\\t</mat-hint>\\r\\n\\t\\t\\t\\t\\t</mat-form-field>\\r\\n\\t\\t\\t\\t</mat-header-cell>\\r\\n\\t\\t\\t</ng-container>\\r\\n\\r\\n\\t\\t\\t<ng-container matColumnDef=\\\"add-dueDate\\\">\\r\\n\\t\\t\\t\\t<mat-header-cell *matHeaderCellDef class=\\\"mat-column\\\">\\r\\n\\t\\t\\t\\t\\t<mat-form-field *ngIf=\\\"remarkForAdd._isEditMode\\\" class=\\\"mat-form-field-fluid\\\">\\r\\n\\t\\t\\t\\t\\t\\t<input matInput [matDatepicker]=\\\"addPicker\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\tplaceholder=\\\"Choose a Due Date\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\tformControlName=\\\"newDueDate\\\">\\r\\n\\t\\t\\t\\t\\t\\t<mat-datepicker-toggle matSuffix [for]=\\\"addPicker\\\"></mat-datepicker-toggle>\\r\\n\\t\\t\\t\\t\\t\\t<mat-datepicker #addPicker></mat-datepicker>\\r\\n\\t\\t\\t\\t\\t\\t<mat-hint align=\\\"start\\\">Please enter\\r\\n\\t\\t\\t\\t\\t\\t\\t<strong>Due Date</strong> in 'mm/dd/yyyy' format\\r\\n\\t\\t\\t\\t\\t\\t</mat-hint>\\r\\n\\t\\t\\t\\t\\t</mat-form-field>\\r\\n\\t\\t\\t\\t</mat-header-cell>\\r\\n\\t\\t\\t</ng-container>\\r\\n\\r\\n\\t\\t\\t<ng-container matColumnDef=\\\"add-actions\\\">\\r\\n\\t\\t\\t\\t<mat-header-cell *matHeaderCellDef class=\\\"mat-column mat-column-actions\\\">\\r\\n\\t\\t\\t\\t\\t<span  class=\\\"mat-column-actions-wrapper\\\" *ngIf=\\\"remarkForAdd._isEditMode\\\">\\r\\n\\t\\t\\t\\t\\t\\t<button *ngIf=\\\"!loadingAfterSubmit\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\tmat-icon-button \\r\\n\\t\\t\\t\\t\\t\\t\\tcolor=\\\"{{checkAddForm() ? 'primary' : 'accent'}}\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\ttype=\\\"button\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\t(click)=\\\"saveNewRemark()\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\tmatTooltip=\\\"Save new remark\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<mat-icon>done</mat-icon>\\r\\n\\t\\t\\t\\t\\t\\t</button>\\r\\n\\t\\t\\t\\t\\t\\t<mat-spinner *ngIf=\\\"loadingAfterSubmit\\\" [diameter]=\\\"20\\\"></mat-spinner>\\r\\n\\t\\t\\t\\t\\t\\t&nbsp;\\r\\n\\t\\t\\t\\t\\t\\t<button type=\\\"button\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\tmat-icon-button \\r\\n\\t\\t\\t\\t\\t\\t\\tcolor=\\\"wan\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\t(click)=\\\"cancelAddButtonOnClick()\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\tmatTooltip=\\\"Cancel changes\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<mat-icon>clear</mat-icon>\\r\\n\\t\\t\\t\\t\\t\\t</button>\\r\\n\\t\\t\\t\\t\\t</span>\\r\\n\\t\\t\\t\\t</mat-header-cell>\\r\\n\\t\\t\\t</ng-container>\\r\\n\\t\\t\\t<!-- end: ADD row -->\\r\\n\\r\\n\\t\\t\\t<!-- begin: EDIT row -->\\r\\n\\t\\t\\t<!-- Checkbox Column -->\\r\\n\\t\\t\\t<!-- Table with selection -->\\r\\n\\t\\t\\t<!-- https://run.stackblitz.com/api/angular/v1?file=app%2Ftable-selection-example.ts -->\\r\\n\\t\\t\\t<ng-container matColumnDef=\\\"select\\\">\\r\\n\\t\\t\\t\\t<mat-header-cell *matHeaderCellDef class=\\\"mat-column mat-column-checkbox\\\">\\r\\n\\t\\t\\t\\t\\t<mat-checkbox (change)=\\\"$event ? masterToggle() : null\\\"\\r\\n\\t\\t\\t\\t\\t\\t[checked]=\\\"selection.hasValue() && isAllSelected()\\\"\\r\\n\\t\\t\\t\\t\\t\\t[indeterminate]=\\\"selection.hasValue() && !isAllSelected()\\\"\\r\\n\\t\\t\\t\\t\\t\\t[color]=\\\"'primary'\\\">\\r\\n\\t\\t\\t\\t\\t</mat-checkbox>\\r\\n\\t\\t\\t\\t</mat-header-cell>\\r\\n\\t\\t\\t\\t<mat-cell *matCellDef=\\\"let row\\\" class=\\\"mat-column mat-column-checkbox\\\">\\r\\n\\t\\t\\t\\t\\t<mat-checkbox (click)=\\\"$event.stopPropagation()\\\"\\r\\n\\t\\t\\t\\t\\t\\t(change)=\\\"$event ? selection.toggle(row) : null\\\"\\r\\n\\t\\t\\t\\t\\t\\t[checked]=\\\"selection.isSelected(row)\\\"\\r\\n\\t\\t\\t\\t\\t\\t[color]=\\\"'primary'\\\">\\r\\n\\t\\t\\t\\t\\t</mat-checkbox>\\r\\n\\t\\t\\t\\t</mat-cell>\\r\\n\\t\\t\\t</ng-container>\\r\\n\\r\\n\\t\\t\\t<ng-container matColumnDef=\\\"id\\\">\\r\\n\\t\\t\\t\\t<mat-header-cell *matHeaderCellDef mat-sort-header class=\\\"mat-column mat-column-id\\\">ID</mat-header-cell>\\r\\n\\t\\t\\t\\t<mat-cell *matCellDef=\\\"let remark\\\" class=\\\"mat-column mat-column-id\\\">\\r\\n\\t\\t\\t\\t\\t<span>{{remark.id}}</span>\\r\\n\\t\\t\\t\\t</mat-cell>\\r\\n\\t\\t\\t</ng-container>\\r\\n\\r\\n\\t\\t\\t<ng-container matColumnDef=\\\"text\\\">\\r\\n\\t\\t\\t\\t<mat-header-cell *matHeaderCellDef mat-sort-header class=\\\"mat-column mat-column-main\\\">Text</mat-header-cell>\\r\\n\\t\\t\\t\\t<mat-cell *matCellDef=\\\"let remark\\\" class=\\\"mat-column mat-column-main\\\">\\r\\n\\t\\t\\t\\t\\t<mat-form-field *ngIf=\\\"remark._isEditMode\\\" class=\\\"mat-form-field-fluid\\\">\\r\\n\\t\\t\\t\\t\\t\\t<input matInput placeholder=\\\"Enter Remark text\\\" formControlName=\\\"editText\\\">\\r\\n\\t\\t\\t\\t\\t\\t<mat-hint align=\\\"start\\\">Please enter\\r\\n\\t\\t\\t\\t\\t\\t\\t<strong>Text</strong>\\r\\n\\t\\t\\t\\t\\t\\t</mat-hint>\\r\\n\\t\\t\\t\\t\\t</mat-form-field>\\r\\n\\t\\t\\t\\t\\t<span *ngIf=\\\"!remark._isEditMode\\\">{{remark.text}}</span>\\r\\n\\t\\t\\t\\t</mat-cell>\\r\\n\\t\\t\\t</ng-container>\\r\\n\\r\\n\\t\\t\\t<ng-container matColumnDef=\\\"type\\\">\\r\\n\\t\\t\\t\\t<mat-header-cell *matHeaderCellDef mat-sort-header class=\\\"mat-column\\\">Type</mat-header-cell>\\r\\n\\t\\t\\t\\t<mat-cell *matCellDef=\\\"let remark\\\" class=\\\"mat-column\\\">\\r\\n\\t\\t\\t\\t\\t<span *ngIf=\\\"!remark._isEditMode\\\">{{getTypeStr(remark)}}</span>\\r\\n\\t\\t\\t\\t\\t<mat-form-field class=\\\"mat-form-field-fluid\\\" *ngIf=\\\"remark._isEditMode\\\">\\r\\n\\t\\t\\t\\t\\t\\t<mat-select placeholder=\\\"Type\\\" formControlName=\\\"editType\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<mat-option value=\\\"0\\\">Info</mat-option>\\r\\n\\t\\t\\t\\t\\t\\t\\t<mat-option value=\\\"1\\\">Note</mat-option>\\r\\n\\t\\t\\t\\t\\t\\t\\t<mat-option value=\\\"2\\\">Reminder</mat-option>\\r\\n\\t\\t\\t\\t\\t\\t</mat-select>\\r\\n\\t\\t\\t\\t\\t\\t<mat-hint align=\\\"start\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<strong>Select remark type</strong>\\r\\n\\t\\t\\t\\t\\t\\t</mat-hint>\\r\\n\\t\\t\\t\\t\\t</mat-form-field>\\r\\n\\t\\t\\t\\t</mat-cell>\\r\\n\\t\\t\\t</ng-container>\\r\\n\\r\\n\\t\\t\\t<ng-container matColumnDef=\\\"dueDate\\\">\\r\\n\\t\\t\\t\\t<mat-header-cell *matHeaderCellDef mat-sort-header class=\\\"mat-column\\\">Due date</mat-header-cell>\\r\\n\\t\\t\\t\\t<mat-cell *matCellDef=\\\"let remark\\\" class=\\\"mat-column\\\">\\r\\n\\t\\t\\t\\t\\t<span *ngIf=\\\"!remark._isEditMode\\\">{{remark.dueDate}}</span>\\r\\n\\t\\t\\t\\t\\t<span *ngIf=\\\"remark._isEditMode\\\">\\r\\n\\t\\t\\t\\t\\t\\t<mat-form-field class=\\\"mat-form-field-fluid\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<input matInput [matDatepicker]=\\\"editPicker\\\" placeholder=\\\"Choose a Due Date\\\" formControlName=\\\"editDueDate\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<mat-datepicker-toggle matSuffix [for]=\\\"editPicker\\\"></mat-datepicker-toggle>\\r\\n\\t\\t\\t\\t\\t\\t\\t<mat-datepicker #editPicker></mat-datepicker>\\r\\n\\t\\t\\t\\t\\t\\t\\t<mat-hint align=\\\"start\\\">Please enter\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<strong>Due Date</strong> in 'mm/dd/yyyy' format\\r\\n\\t\\t\\t\\t\\t\\t\\t</mat-hint>\\r\\n\\t\\t\\t\\t\\t\\t</mat-form-field>\\r\\n\\t\\t\\t\\t\\t</span>\\r\\n\\t\\t\\t\\t</mat-cell>\\r\\n\\t\\t\\t</ng-container>\\r\\n\\r\\n\\t\\t\\t<ng-container matColumnDef=\\\"actions\\\">\\r\\n\\t\\t\\t\\t<mat-header-cell *matHeaderCellDef class=\\\"mat-column mat-column-actions\\\">\\r\\n\\t\\t\\t\\t\\tActions\\r\\n\\t\\t\\t\\t</mat-header-cell>\\r\\n\\t\\t\\t\\t<mat-cell *matCellDef=\\\"let remark\\\" class=\\\"mat-column mat-column-actions\\\">\\r\\n\\t\\t\\t\\t\\t<button *ngIf=\\\"!remark._isEditMode\\\" \\r\\n\\t\\t\\t\\t\\t\\t[disabled]=\\\"isSwitchedToEditMode\\\" \\r\\n\\t\\t\\t\\t\\t\\ttype=\\\"button\\\" \\r\\n\\t\\t\\t\\t\\t\\tmat-icon-button \\r\\n\\t\\t\\t\\t\\t\\tcolor=\\\"primary\\\" \\r\\n\\t\\t\\t\\t\\t\\t(click)=\\\"editRemarkButtonOnClick(remark)\\\" \\r\\n\\t\\t\\t\\t\\t\\tmatTooltip=\\\"Edit remark\\\">\\r\\n\\t\\t\\t\\t\\t\\t<mat-icon>create</mat-icon>\\r\\n\\t\\t\\t\\t\\t</button>\\r\\n\\t\\t\\t\\t\\t<button *ngIf=\\\"remark._isEditMode && !loadingAfterSubmit\\\"\\r\\n\\t\\t\\t\\t\\t\\tmat-icon-button \\r\\n\\t\\t\\t\\t\\t\\tcolor=\\\"{{checkEditForm() ? 'primary' : 'accent'}}\\\" \\r\\n\\t\\t\\t\\t\\t\\ttype=\\\"button\\\" \\r\\n\\t\\t\\t\\t\\t\\t(click)=\\\"saveUpdatedRemark(remark)\\\" \\r\\n\\t\\t\\t\\t\\t\\tmatTooltip=\\\"Save changes\\\">\\r\\n\\t\\t\\t\\t\\t\\t<mat-icon>done</mat-icon>\\r\\n\\t\\t\\t\\t\\t</button>\\r\\n\\t\\t\\t\\t\\t<mat-spinner *ngIf=\\\"remark._isEditMode && loadingAfterSubmit\\\" [diameter]=\\\"20\\\"></mat-spinner>\\r\\n\\t\\t\\t\\t\\t&nbsp;\\r\\n\\t\\t\\t\\t\\t<button *ngIf=\\\"!remark._isEditMode\\\" \\r\\n\\t\\t\\t\\t\\t\\t[disabled]=\\\"isSwitchedToEditMode\\\" \\r\\n\\t\\t\\t\\t\\t\\tmat-icon-button \\r\\n\\t\\t\\t\\t\\t\\tcolor=\\\"warn\\\" \\r\\n\\t\\t\\t\\t\\t\\ttype=\\\"button\\\" \\r\\n\\t\\t\\t\\t\\t\\t(click)=\\\"deleteRemark(remark)\\\" \\r\\n\\t\\t\\t\\t\\t\\tmatTooltip=\\\"Delete remark\\\">\\r\\n\\t\\t\\t\\t\\t\\t<mat-icon>delete</mat-icon>\\r\\n\\t\\t\\t\\t\\t</button>\\r\\n\\t\\t\\t\\t\\t<button *ngIf=\\\"remark._isEditMode\\\" \\r\\n\\t\\t\\t\\t\\t\\ttype=\\\"button\\\" \\r\\n\\t\\t\\t\\t\\t\\tmat-icon-button \\r\\n\\t\\t\\t\\t\\t\\tcolor=\\\"warn\\\" \\r\\n\\t\\t\\t\\t\\t\\t(click)=\\\"cancelEditButtonOnClick(remark)\\\" \\r\\n\\t\\t\\t\\t\\t\\tmatTooltip=\\\"Cancel changes\\\">\\r\\n\\t\\t\\t\\t\\t\\t<mat-icon>clear</mat-icon>\\r\\n\\t\\t\\t\\t\\t</button>\\r\\n\\t\\t\\t\\t</mat-cell>\\r\\n\\t\\t\\t</ng-container>\\r\\n\\t\\t\\t<!-- end: EDIT row -->\\r\\n\\r\\n\\t\\t\\t<mat-row *matRowDef=\\\"let row; columns: displayedColumns\\\" [ngClass]=\\\"{'mat-row-editing' : row._isEditMode}\\\"></mat-row>\\r\\n\\t\\t\\t<mat-header-row *matHeaderRowDef=\\\"displayedColumns\\\"></mat-header-row>\\r\\n\\t\\t\\t<mat-header-row *matHeaderRowDef=\\\"['add-select', 'add-id', 'add-text', 'add-type', 'add-dueDate', 'add-actions']\\\" class=\\\"mat-row-editing mat-row-add\\\" [ngClass]=\\\"{'mat-row-inactive' : !remarkForAdd._isEditMode}\\\">\\r\\n\\t\\t\\t</mat-header-row>\\r\\n\\t\\t</mat-table>\\r\\n\\t</form>\\r\\n\\r\\n\\t<div class=\\\"mat-table__message\\\" *ngIf=\\\"!dataSource.hasItems\\\">No records found</div>\\r\\n\\t<div class=\\\"mat-table__message\\\" *ngIf=\\\"dataSource.isPreloadTextViewed$ | async\\\">Please wait....</div>\\r\\n\\r\\n</div>\\r\\n\\r\\n<!-- start: BOTTOM -->\\r\\n<div class=\\\"mat-table__bottom\\\">\\r\\n\\t<mat-spinner [diameter]=\\\"20\\\" *ngIf=\\\"dataSource.loading$ | async\\\"></mat-spinner>\\r\\n\\t<mat-paginator [pageSize]=\\\"5\\\" [pageSizeOptions]=\\\"[3, 5, 10]\\\" [length]=\\\"dataSource.paginatorTotal$ | async\\\" [showFirstLastButtons]=\\\"true\\\"></mat-paginator>\\r\\n</div>\\r\\n<!-- end: BOTTOM -->\\r\\n\"","// Angular\r\nimport { Component, OnInit, ElementRef, ViewChild, Input, ChangeDetectionStrategy, OnDestroy } from '@angular/core';\r\nimport { Validators, FormBuilder, FormGroup } from '@angular/forms';\r\n// Material\r\nimport { MatPaginator, MatSort, MatDialog } from '@angular/material';\r\nimport { SelectionModel } from '@angular/cdk/collections';\r\n// RXJS\r\nimport { debounceTime, distinctUntilChanged, tap, delay } from 'rxjs/operators';\r\nimport { fromEvent, merge, BehaviorSubject, Subscription, Observable, of } from 'rxjs';\r\n// NGRX\r\nimport { Store, select } from '@ngrx/store';\r\nimport { Update } from '@ngrx/entity';\r\n// State\r\nimport { AppState } from '../../../../../../../../core/reducers';\r\n// CRUD\r\nimport { TypesUtilsService, QueryParamsModel, LayoutUtilsService, MessageType } from '../../../../../../../../core/_base/crud';\r\n// Services and Models\r\nimport {\r\n\tProductRemarkModel,\r\n\tProductRemarksDataSource,\r\n\tProductRemarksPageRequested,\r\n\tProductRemarkUpdated,\r\n\tProductRemarkStoreUpdated,\r\n\tOneProductRemarkDeleted,\r\n\tManyProductRemarksDeleted,\r\n\tselectLastCreatedProductRemarkId,\r\n\tProductRemarkOnServerCreated\r\n} from '../../../../../../../../core/e-commerce';\r\n\r\n// Table with EDIT item in new page\r\n// ARTICLE for table with sort/filter/paginator\r\n// https://blog.angular-university.io/angular-material-data-table/\r\n// https://v5.material.angular.io/components/table/overview\r\n// https://v5.material.angular.io/components/sort/overview\r\n// https://v5.material.angular.io/components/table/overview#sorting\r\n// https://www.youtube.com/watch?v=NSt9CI3BXv4\r\n@Component({\r\n\t// tslint:disable-next-line:component-selector\r\n\tselector: 'kt-remarks-list',\r\n\ttemplateUrl: './remarks-list.component.html',\r\n\tchangeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class RemarksListComponent implements OnInit, OnDestroy {\r\n\t// Public properties\r\n\t// Incoming data\r\n\t@Input() productId$: Observable<number>;\r\n\tproductId: number;\r\n\t// Table fields\r\n\tdataSource: ProductRemarksDataSource;\r\n\tdisplayedColumns = ['select', 'id', 'text', 'type', 'dueDate', 'actions'];\r\n\t@ViewChild(MatPaginator) paginator: MatPaginator;\r\n\t@ViewChild(MatSort) sort: MatSort;\r\n\t// Filter fields\r\n\t@ViewChild('searchInput') searchInput: ElementRef;\r\n\t// Selection\r\n\tselection = new SelectionModel<ProductRemarkModel>(true, []);\r\n\tproductRemarksResult: ProductRemarkModel[] = [];\r\n\t// Add and Edit\r\n\tisSwitchedToEditMode: boolean = false;\r\n\tloadingAfterSubmit: boolean = false;\r\n\tformGroup: FormGroup;\r\n\tremarkForEdit: ProductRemarkModel;\r\n\tremarkForAdd: ProductRemarkModel;\r\n\t// Private properties\r\n\tprivate componentSubscriptions: Subscription;\r\n\r\n\t/**\r\n\t * Component constructor\r\n\t *\r\n\t * @param store: Store<AppState>\r\n\t * @param fb: FormBuilder\r\n\t * @param dialog: MatDialog\r\n\t * @param typesUtilsService: TypeUtilsService\r\n\t * @param layoutUtilsService: LayoutUtilsService\r\n\t */\r\n\tconstructor(private store: Store<AppState>,\r\n\t\tprivate fb: FormBuilder,\r\n\t\tpublic dialog: MatDialog,\r\n\t\tpublic typesUtilsService: TypesUtilsService,\r\n\t\tprivate layoutUtilsService: LayoutUtilsService) {}\r\n\r\n\t/**\r\n\t * @ Lifecycle sequences => https://angular.io/guide/lifecycle-hooks\r\n\t */\r\n\r\n\t/**\r\n\t * On init\r\n\t */\r\n\tngOnInit() {\r\n\t\t// If the user changes the sort order, reset back to the first page.\r\n\t\tthis.sort.sortChange.subscribe(() => (this.paginator.pageIndex = 0));\r\n\t\t/* Data load will be triggered in two cases:\r\n\t\t- when a pagination event occurs => this.paginator.page\r\n\t\t- when a sort event occurs => this.sort.sortChange\r\n\t\t**/\r\n\t\tmerge(this.sort.sortChange, this.paginator.page)\r\n\t\t\t.pipe(\r\n\t\t\t\ttap(() => {\r\n\t\t\t\t\tthis.loadRemarksList();\r\n\t\t\t\t})\r\n\t\t\t)\r\n\t\t\t.subscribe();\r\n\r\n\t\t// Filtration, bind to searchInput\r\n\t\tfromEvent(this.searchInput.nativeElement, 'keyup')\r\n\t\t\t.pipe(\r\n\t\t\t\tdebounceTime(150),\r\n\t\t\t\tdistinctUntilChanged(),\r\n\t\t\t\ttap(() => {\r\n\t\t\t\t\tthis.paginator.pageIndex = 0;\r\n\t\t\t\t\tthis.loadRemarksList();\r\n\t\t\t\t})\r\n\t\t\t)\r\n\t\t\t.subscribe();\r\n\r\n\t\t// Init DataSource\r\n\t\tthis.dataSource = new ProductRemarksDataSource(this.store);\r\n\t\tthis.dataSource.entitySubject.subscribe(res => this.productRemarksResult = res);\r\n\t\tthis.productId$.subscribe(res => {\r\n\t\t\tif (!res) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.productId = res;\r\n\t\t\tof(undefined).pipe(delay(1000)).subscribe(() => { // Remove this line, just loading imitation\r\n\t\t\t\tthis.loadRemarksList();\r\n\t\t\t}); // Remove this line, just loading imitation\r\n\t\t\tthis.createFormGroup();\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * On destroy\r\n\t */\r\n\tngOnDestroy() {\r\n\t\tif (this.componentSubscriptions) {\r\n\t\t\tthis.componentSubscriptions.unsubscribe();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Loading Remarks list\r\n\t */\r\n\tloadRemarksList() {\r\n\t\tthis.selection.clear();\r\n\t\tlet queryParams = new QueryParamsModel(\r\n\t\t\tthis.filterConfiguration(),\r\n\t\t\tthis.sort.direction,\r\n\t\t\tthis.sort.active,\r\n\t\t\tthis.paginator.pageIndex,\r\n\t\t\tthis.paginator.pageSize\r\n\t\t);\r\n\t\t// Call request from server\r\n\t\tthis.store.dispatch(new ProductRemarksPageRequested({\r\n\t\t\tpage: queryParams,\r\n\t\t\tproductId: this.productId\r\n\t\t}));\r\n\t}\r\n\r\n\t/**\r\n\t * Create Reactive Form\r\n\t * @param _item: remark\r\n\t */\r\n\tcreateFormGroup(_item = null) {\r\n\t\t// 'edit' prefix - for item editing\r\n\t\t// 'add' prefix - for item creation\r\n\t\tthis.formGroup = this.fb.group({\r\n\t\t\teditText: ['', Validators.compose([Validators.required])],\r\n\t\t\teditType: ['0'],\r\n\t\t\teditDueDate: [this.typesUtilsService.getDateFromString(), Validators.compose([Validators.required])],\r\n\t\t\tnewText: ['', Validators.compose([Validators.required])],\r\n\t\t\tnewType: ['0'],\r\n\t\t\tnewDueDate: [this.typesUtilsService.getDateFromString(), Validators.compose([Validators.required])]\r\n\t\t});\r\n\t\tthis.clearAddForm();\r\n\t\tthis.clearEditForm();\r\n\t}\r\n\r\n\t// ADD REMARK FUNCTIONS: clearAddForm | checkAddForm | addRemarkButtonOnClick | cancelAddButtonOnClick | saveNewRemark\r\n\tclearAddForm() {\r\n\t\tconst controls = this.formGroup.controls;\r\n\t\tcontrols['newText'].setValue('');\r\n\t\tcontrols['newText'].markAsPristine();\r\n\t\tcontrols['newText'].markAsUntouched();\r\n\t\tcontrols['newType'].setValue('0');\r\n\t\tcontrols['newType'].markAsPristine();\r\n\t\tcontrols['newType'].markAsUntouched();\r\n\t\tcontrols['newDueDate'].setValue(this.typesUtilsService.getDateFromString());\r\n\t\tcontrols['newDueDate'].markAsPristine();\r\n\t\tcontrols['newDueDate'].markAsUntouched();\r\n\r\n\t\tthis.remarkForAdd = new ProductRemarkModel();\r\n\t\tthis.remarkForAdd.clear(this.productId);\r\n\t\tthis.remarkForAdd.dueDate = this.typesUtilsService.getDateStringFromDate();\r\n\t\tthis.remarkForAdd._isEditMode = false;\r\n\t}\r\n\r\n\t/**\r\n\t * Check if Add Form is Valid\r\n\t */\r\n\tcheckAddForm() {\r\n\t\tconst controls = this.formGroup.controls;\r\n\t\tif (controls['newText'].invalid || controls['newType'].invalid || controls['newDueDate'].invalid) {\r\n\t\t\tcontrols['newText'].markAsTouched();\r\n\t\t\t// controls['newType'].markAsTouched();\r\n\t\t\tcontrols['newDueDate'].markAsTouched();\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t}\r\n\r\n\t/**\r\n\t * Open Remark Add Form\r\n\t */\r\n\taddRemarkButtonOnClick() {\r\n\t\tthis.clearAddForm();\r\n\t\tthis.remarkForAdd._isEditMode = true;\r\n\t\tthis.isSwitchedToEditMode = true;\r\n\t}\r\n\r\n\t/**\r\n\t * Close Remark Add Form\r\n\t */\r\n\tcancelAddButtonOnClick() {\r\n\t\tthis.remarkForAdd._isEditMode = false;\r\n\t\tthis.isSwitchedToEditMode = false;\r\n\t}\r\n\r\n\t/**\r\n\t *  Create new remark\r\n\t */\r\n\tsaveNewRemark() {\r\n\t\tif (!this.checkAddForm()) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst controls = this.formGroup.controls;\r\n\t\t\tthis.loadingAfterSubmit = false;\r\n\t\t\tthis.remarkForAdd._isEditMode = false;\r\n\t\t\tthis.remarkForAdd.text = controls['newText'].value;\r\n\t\t\tthis.remarkForAdd.type = +controls['newType'].value;\r\n\t\t\tconst _date = new Date(controls['newDueDate'].value);\r\n\t\t\tthis.remarkForAdd.dueDate = this.typesUtilsService.getDateStringFromDate(_date);\r\n\t\t\tthis.remarkForAdd._updatedDate = this.typesUtilsService.getDateStringFromDate();\r\n\t\t\tthis.remarkForAdd._createdDate = this.remarkForEdit._updatedDate;\r\n\t\t\tthis.remarkForAdd._userId = 1; // Admin TODO: Get from user servics\r\n\t\t\tthis.store.dispatch(new ProductRemarkOnServerCreated({ productRemark: this.remarkForAdd }));\r\n\t\t\tthis.componentSubscriptions = this.store.pipe(\r\n\t\t\t\tselect(selectLastCreatedProductRemarkId)\r\n\t\t\t).subscribe(res => {\r\n\t\t\t\tif (!res) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst _saveMessage = `Remark has been created`;\r\n\t\t\t\tthis.isSwitchedToEditMode = false;\r\n\t\t\t\tthis.layoutUtilsService.showActionNotification(_saveMessage, MessageType.Create, 10000, true, true);\r\n\t\t\t\tthis.clearAddForm();\r\n\t\t\t});\r\n\t}\r\n\r\n\t// EDIT REMARK FUNCTIONS: clearEditForm | checkEditForm | editRemarkButtonOnClick | cancelEditButtonOnClick |\r\n\tclearEditForm() {\r\n\t\tconst controls = this.formGroup.controls;\r\n\t\tcontrols['editText'].setValue('');\r\n\t\t// controls['editText'].markAsPristine();\r\n\t\t// controls['editText'].markAsUntouched();\r\n\t\tcontrols['editType'].setValue('0');\r\n\t\t// controls['editType'].markAsPristine();\r\n\t\t// controls['editType'].markAsUntouched();\r\n\t\tcontrols['editDueDate'].setValue(this.typesUtilsService.getDateFromString());\r\n\t\t// controls['editDueDate'].markAsPristine();\r\n\t\t// controls['editDueDate'].markAsUntouched();\r\n\r\n\t\tthis.remarkForEdit = new ProductRemarkModel();\r\n\t\tthis.remarkForEdit.clear(this.productId);\r\n\t\tthis.remarkForEdit.dueDate = this.typesUtilsService.getDateStringFromDate();\r\n\t\tthis.remarkForEdit._isEditMode = false;\r\n\t}\r\n\r\n\t/**\r\n\t * Check is Edit Form valid\r\n\t */\r\n\tcheckEditForm() {\r\n\t\tconst controls = this.formGroup.controls;\r\n\t\tif (controls['editText'].invalid || controls['editType'].invalid || controls['editDueDate'].invalid) {\r\n\t\t\t// controls['editText'].markAsTouched();\r\n\t\t\t// controls['editType'].markAsTouched();\r\n\t\t\t// controls['editDueDate'].markAsTouched();\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t}\r\n\r\n\t/**\r\n\t * Update remark\r\n\t *\r\n\t * @param _item: ProductRemarkModel\r\n\t */\r\n\teditRemarkButtonOnClick(_item: ProductRemarkModel) {\r\n\t\tconst controls = this.formGroup.controls;\r\n\t\tcontrols['editText'].setValue(_item.text);\r\n\t\tcontrols['editType'].setValue(_item.type.toString());\r\n\t\tcontrols['editDueDate'].setValue(this.typesUtilsService.getDateFromString(_item.dueDate));\r\n\t\tconst updateProductReamrk: Update<ProductRemarkModel> = {\r\n\t\t\tid: _item.id,\r\n\t\t\tchanges: {\r\n\t\t\t\t_isEditMode: true\r\n\t\t\t}\r\n\t\t};\r\n\t\tthis.store.dispatch(new ProductRemarkStoreUpdated({ productRemark: updateProductReamrk }));\r\n\t\tthis.isSwitchedToEditMode = true;\r\n\t}\r\n\r\n\t/**\r\n\t * Cancel remark\r\n\t *\r\n\t * @param _item: ProductRemarkModel\r\n\t */\r\n\tcancelEditButtonOnClick(_item: ProductRemarkModel) {\r\n\t\tconst updateProductReamrk: Update<ProductRemarkModel> = {\r\n\t\t\tid: _item.id,\r\n\t\t\tchanges: {\r\n\t\t\t\t_isEditMode: false\r\n\t\t\t}\r\n\t\t};\r\n\t\tthis.store.dispatch(new ProductRemarkStoreUpdated({ productRemark: updateProductReamrk }));\r\n\t\tthis.isSwitchedToEditMode = false;\r\n\t}\r\n\r\n\t/**\r\n\t * Save remark\r\n\t *\r\n\t * @param _item: ProductRemarkModel\r\n\t */\r\n\tsaveUpdatedRemark(_item: ProductRemarkModel) {\r\n\t\tif (!this.checkEditForm()) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.loadingAfterSubmit = true;\r\n\t\tconst controls = this.formGroup.controls;\r\n\t\tthis.loadingAfterSubmit = false;\r\n\t\tconst objectForUpdate = new ProductRemarkModel();\r\n\t\tobjectForUpdate.id = _item.id;\r\n\t\tobjectForUpdate.carId = _item.carId;\r\n\t\tobjectForUpdate._isEditMode = _item._isEditMode;\r\n\t\tobjectForUpdate.text = controls['editText'].value;\r\n\t\tobjectForUpdate.type = +controls['editType'].value;\r\n\t\tconst _date = new Date(controls['editDueDate'].value);\r\n\t\tobjectForUpdate.dueDate = this.typesUtilsService.getDateStringFromDate(_date);\r\n\t\tobjectForUpdate._updatedDate = this.typesUtilsService.getDateStringFromDate();\r\n\t\tobjectForUpdate._isEditMode = false;\r\n\t\tconst updateProductReamrk: Update<ProductRemarkModel> = {\r\n\t\t\tid: _item.id,\r\n\t\t\tchanges: objectForUpdate\r\n\t\t};\r\n\r\n\t\tthis.store.dispatch(new ProductRemarkUpdated({\r\n\t\t\tpartialProductRemark: updateProductReamrk,\r\n\t\t\tproductRemark: objectForUpdate\r\n\t\t}));\r\n\t\tconst saveMessage = `Remark has been updated`;\r\n\t\tthis.isSwitchedToEditMode = false;\r\n\t\tthis.layoutUtilsService.showActionNotification(saveMessage, MessageType.Update, 10000, true, true);\r\n\t}\r\n\r\n\t/**\r\n\t * Returns object for filtration\r\n\t */\r\n\tfilterConfiguration(): any {\r\n\t\tconst filter: any = {};\r\n\t\tconst searchText: string = this.searchInput.nativeElement.value;\r\n\r\n\t\tfilter.text = searchText;\r\n\t\treturn filter;\r\n\t}\r\n\r\n\t/**\r\n\t * Check all rows are selected\r\n\t */\r\n\tisAllSelected() {\r\n\t\tconst numSelected = this.selection.selected.length;\r\n\t\tconst numRows = this.productRemarksResult.length;\r\n\t\treturn numSelected === numRows;\r\n\t}\r\n\r\n\t/**\r\n\t * Selects all rows if they are not all selected; otherwise clear selection\r\n\t */\r\n\tmasterToggle() {\r\n\t\tif (this.isAllSelected()) {\r\n\t\t\tthis.selection.clear();\r\n\t\t} else {\r\n\t\t\tthis.productRemarksResult.forEach(row => this.selection.select(row));\r\n\t\t}\r\n\t}\r\n\r\n\t/** ACTIONS */\r\n\t/**\r\n\t * Delete remark\r\n\t *\r\n\t * @param _item: ProductRemarkModel\r\n\t */\r\n\tdeleteRemark(_item: ProductRemarkModel) {\r\n\t\tconst _title: string = 'Remark Delete';\r\n\t\tconst _description: string = 'Are you sure to permanently delete this remark?';\r\n\t\tconst _waitDesciption: string = 'Remark is deleting...';\r\n\t\tconst _deleteMessage = `Remark has been deleted`;\r\n\r\n\t\tconst dialogRef = this.layoutUtilsService.deleteElement(_title, _description, _waitDesciption);\r\n\t\tdialogRef.afterClosed().subscribe(res => {\r\n\t\t\tif (!res) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.store.dispatch(new OneProductRemarkDeleted({ id: _item.id }));\r\n\t\t\tthis.layoutUtilsService.showActionNotification(_deleteMessage, MessageType.Delete);\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Delete selected remarks\r\n\t */\r\n\tdeleteRemarks() {\r\n\t\tconst _title: string = 'Remarks Delete';\r\n\t\tconst _description: string = 'Are you sure to permanently delete selected remarks?';\r\n\t\tconst _waitDesciption: string = 'Remarks are deleting...';\r\n\t\tconst _deleteMessage = 'Selected remarks have been deleted';\r\n\r\n\t\tconst dialogRef = this.layoutUtilsService.deleteElement(_title, _description, _waitDesciption);\r\n\t\tdialogRef.afterClosed().subscribe(res => {\r\n\t\t\tif (!res) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst length = this.selection.selected.length;\r\n\t\t\tconst idsForDeletion: number[] = [];\r\n\t\t\tfor (let i = 0; i < length; i++) {\r\n\t\t\t\tidsForDeletion.push(this.selection.selected[i].id);\r\n\t\t\t}\r\n\t\t\tthis.store.dispatch(new ManyProductRemarksDeleted({ ids: idsForDeletion }));\r\n\t\t\tthis.layoutUtilsService.showActionNotification(_deleteMessage, MessageType.Delete);\r\n\t\t\tthis.selection.clear();\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Fetch selected remarks\r\n\t */\r\n\tfetchRemarks() {\r\n\t\tconst messages = [];\r\n\t\tthis.selection.selected.forEach(elem => { messages.push({ text: `${elem.text}`, id: elem.id }); });\r\n\t\tthis.layoutUtilsService.fetchElements(messages);\r\n\t}\r\n\r\n\t/* UI **/\r\n\t/**\r\n\t * Returns type in string\r\n\t *\r\n\t * @param _remark: ProductRemarkModel\r\n\t */\r\n\tgetTypeStr(_remark: ProductRemarkModel): string {\r\n\t\tswitch (_remark.type) {\r\n\t\t\tcase 0: return 'Info';\r\n\t\t\tcase 1: return 'Note';\r\n\t\t\tcase 2: return 'Reminder';\r\n\t\t\tdefault: return '';\r\n\t\t}\r\n\t}\r\n}\r\n","module.exports = \"<div class=\\\"kt-portlet\\\" [ngClass]=\\\"{ 'kt-portlet--body-progress' : viewLoading, 'kt-portlet--body-progress-overlay' : loadingAfterSubmit }\\\">\\r\\n\\t<div class=\\\"kt-portlet__head kt-portlet__head__custom\\\">\\r\\n\\t\\t<div class=\\\"kt-portlet__head-label\\\">\\r\\n\\t\\t\\t<h3 class=\\\"kt-portlet__head-title\\\">\\r\\n\\t\\t\\t\\t{{ data.isNew ? 'Create' : 'Update'}} specification\\r\\n\\t\\t\\t</h3>\\r\\n\\t\\t</div>\\r\\n\\t</div>\\r\\n\\t<!--begin::Form-->\\r\\n\\t<form class=\\\"kt-form\\\" [formGroup]=\\\"specificationEditForm\\\" autocomplete=\\\"off\\\">\\r\\n\\t\\t<div class=\\\"kt-portlet__body\\\">\\r\\n\\t\\t\\t<div class=\\\"kt-portlet__body-progress\\\">\\r\\n\\t\\t\\t\\t<mat-spinner [diameter]=\\\"20\\\"></mat-spinner>\\r\\n\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t<div class=\\\"kt-form__section kt-form__section--first\\\">\\r\\n\\t\\t\\t\\t<div class=\\\"form-group kt-form__group\\\">\\r\\n\\t\\t\\t\\t\\t<mat-form-field class=\\\"mat-form-field-fluid\\\">\\r\\n\\t\\t\\t\\t\\t\\t<mat-select placeholder=\\\"Enter Specification Type\\\" formControlName=\\\"name\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<mat-option value=\\\"{{sp}}\\\" *ngFor=\\\"let sp of specificationsDictionary;\\\">{{sp}}</mat-option>\\r\\n\\t\\t\\t\\t\\t\\t</mat-select>\\r\\n\\t\\t\\t\\t\\t\\t<mat-error *ngIf=\\\"isControlHasError('name','required')\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<strong>Specification Type is required</strong>\\r\\n\\t\\t\\t\\t\\t\\t</mat-error>\\r\\n\\t\\t\\t\\t\\t</mat-form-field>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t<div class=\\\"form-group kt-form__group\\\">\\r\\n\\t\\t\\t\\t\\t<mat-form-field class=\\\"mat-form-field-fluid\\\">\\r\\n\\t\\t\\t\\t\\t\\t<input matInput placeholder=\\\"Enter Value\\\" formControlName=\\\"text\\\" />\\r\\n\\t\\t\\t\\t\\t\\t<mat-error *ngIf=\\\"isControlHasError('text','required')\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<strong>Value is required</strong>\\r\\n\\t\\t\\t\\t\\t\\t</mat-error>\\r\\n\\t\\t\\t\\t\\t</mat-form-field>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</div>\\r\\n\\t\\t<div class=\\\"kt-portlet__foot kt-portlet__foot--fit text-right\\\">\\r\\n\\t\\t\\t<div class=\\\"kt-form__actions kt-form__actions kt-form__actions--solid\\\">\\r\\n\\t\\t\\t\\t<button type=\\\"button\\\" mat-raised-button cdkFocusInitial (click)=\\\"onNoClick()\\\" matTooltip=\\\"Cancel changes\\\">Cancel</button>&nbsp;\\r\\n\\t\\t\\t\\t<button type=\\\"submit\\\" mat-raised-button color=\\\"primary\\\" (click)=\\\"save()\\\" [disabled]=\\\"viewLoading\\\" matTooltip=\\\"Save changes\\\">Save</button>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</div>\\r\\n\\t</form>\\r\\n\\t<!--end::Form-->\\r\\n</div>\\r\\n\"","import { ChangeDetectorRef } from '@angular/core';\r\n// Angular\r\nimport {Component, Inject, OnInit, ChangeDetectionStrategy} from '@angular/core';\r\nimport { FormControl, Validators, FormGroup, FormBuilder } from '@angular/forms';\r\n// Material\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\r\n// RxJS\r\nimport { of } from 'rxjs';\r\nimport { delay } from 'rxjs/operators';\r\n// Services and Models\r\nimport { SPECIFICATIONS_DICTIONARY } from '../../../../../../../../core/e-commerce';\r\n\r\n@Component({\r\n\t// tslint:disable-next-line:component-selector\r\n\tselector: 'kt-specification-edit-dialog',\r\n\ttemplateUrl: './specification-edit-dialog.component.html',\r\n\tchangeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class SpecificationEditDialogComponent implements OnInit {\r\n\t// Public properties\r\n\tspecificationEditForm: FormGroup;\r\n\tviewLoading: boolean = true;\r\n\tloadingAfterSubmit: boolean = false;\r\n\tspecificationsDictionary: string[] = SPECIFICATIONS_DICTIONARY;\r\n\r\n\t/**\r\n\t * Component constructor\r\n\t *\r\n\t * @param dialogRef: MatDialogRef<SpecificationEditDialogComponent>\r\n\t * @param data: any\r\n\t */\r\n\tconstructor(\r\n\t\tpublic dialogRef: MatDialogRef<SpecificationEditDialogComponent>,\r\n\t\t@Inject(MAT_DIALOG_DATA) public data: any,\r\n\t\tprivate fb: FormBuilder,\r\n\t\tprivate cdr: ChangeDetectorRef) {\r\n\t}\r\n\r\n\t/**\r\n\t * @ Lifecycle sequences => https://angular.io/guide/lifecycle-hooks\r\n\t */\r\n\r\n\t/**\r\n\t * On init\r\n\t */\r\n\tngOnInit() {\r\n\t\tthis.initSpecificationForm();\r\n\t\t/* Server loading imitation. Remove this on real code */\r\n\t\tof(undefined).pipe(delay(1000)).subscribe(() => { // Remove this line\r\n\t\t\tthis.viewLoading = false; // Remove this line\r\n\t\t\tthis.cdr.detectChanges(); // Remove this line\r\n\t\t}); // Remove this line\r\n\t}\r\n\r\n\t/**\r\n\t * Form initalization\r\n\t * Default params, validators\r\n\t */\r\n\tinitSpecificationForm() {\r\n\t\tconst specName: string = !this.data.specId ? '' : this.specificationsDictionary[this.data.specId];\r\n\t\tconst specText: string = this.data.value;\r\n\t\tthis.specificationEditForm = this.fb.group({\r\n\t\t\tname: [specName, [ Validators.required]],\r\n\t\t\ttext: [specText, Validators.compose([\r\n\t\t\t\tValidators.required,\r\n\t\t\t\tValidators.minLength(3),\r\n\t\t\t\tValidators.maxLength(100)\r\n\t\t\t])]\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Close dialog\r\n\t */\r\n\tonNoClick(): void {\r\n\t\tthis.dialogRef.close({ isUpdated : false });\r\n\t}\r\n\r\n\t/**\r\n\t * Save specification\r\n\t */\r\n\tsave() {\r\n\t\tconst controls = this.specificationEditForm.controls;\r\n\t\t/** check form */\r\n\t\tif (this.specificationEditForm.invalid) {\r\n\t\t\tObject.keys(controls).forEach(controlName =>\r\n\t\t\t\tcontrols[controlName].markAsTouched()\r\n\t\t\t);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.loadingAfterSubmit = true;\r\n\t\tthis.viewLoading = true;\r\n\r\n\t\tconst specId = this.getSpecificationIndexByName(controls['name'].value);\r\n\t\tconst specName = controls['name'].value;\r\n\t\tconst specValue = controls['text'].value;\r\n\t\t/* Server loading imitation. Remove this on real code */\r\n\t\tof(undefined).pipe(delay(1000)).subscribe(() => { // Remove this line\r\n\t\t\tthis.viewLoading = false;\r\n\t\t\tthis.closeDialog(specId, specName, specValue);\r\n\t\t}); // Remove this line\r\n\t}\r\n\r\n\t/**\r\n\t * Close dialog\r\n\t *\r\n\t * @param specId: any\r\n\t */\r\n\tcloseDialog(specId, specName, specValue) {\r\n\t\tthis.dialogRef.close({\r\n\t\t\tisUpdated: true,\r\n\t\t\tvalue: specValue,\r\n\t\t\tspecId: specId,\r\n\t\t\t_specificationName: specName\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Checking control validation\r\n\t *\r\n\t * @param controlName: string => Equals to formControlName\r\n\t * @param validationType: string => Equals to valitors name\r\n\t */\r\n\tisControlHasError(controlName: string, validationType: string): boolean {\r\n\t\tconst control = this.specificationEditForm.controls[controlName];\r\n\t\tif (!control) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tconst result = control.hasError(validationType) && (control.dirty || control.touched);\r\n\t\treturn result;\r\n\t}\r\n\r\n\tprivate getSpecificationIndexByName(name: string): number {\r\n\t\treturn this.specificationsDictionary.findIndex(el => el === name);\r\n\t}\r\n}\r\n","module.exports = \"<!-- start::FILTERS & GROUP ACTIONS -->\\r\\n<div class=\\\"kt-form\\\">\\r\\n\\t<!-- start::FILTERS -->\\r\\n\\t<div class=\\\"kt-form__filtration\\\">\\r\\n\\t\\t<div class=\\\"row align-items-center\\\">\\r\\n\\t\\t\\t<div class=\\\"col-md-2 kt-margin-bottom-10-mobile\\\">\\r\\n\\t\\t\\t\\t<mat-form-field class=\\\"mat-form-field-fluid\\\">\\r\\n\\t\\t\\t\\t\\t<input matInput placeholder=\\\"Search product specification\\\" #searchInput placeholder=\\\"Search\\\">\\r\\n\\t\\t\\t\\t\\t<mat-hint align=\\\"start\\\">Search in all fields</mat-hint>\\r\\n\\t\\t\\t\\t</mat-form-field>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t<div class=\\\"col-md-8 kt-margin-bottom-10-mobile\\\"></div>\\r\\n\\t\\t\\t<div class=\\\"col-md-2 text-right kt-margin-bottom-10-mobile\\\">\\r\\n\\t\\t\\t\\t<button type=\\\"button\\\"\\r\\n\\t\\t\\t\\t\\t(click)=\\\"addSpec()\\\"\\r\\n\\t\\t\\t\\t\\tmat-raised-button\\r\\n\\t\\t\\t\\t\\tcolor=\\\"primary\\\"\\r\\n\\t\\t\\t\\t\\tmatTooltip=\\\"Create new specification\\\">New specification</button>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</div>\\r\\n\\t</div>\\r\\n\\t<!-- end::FILTERS -->\\r\\n\\r\\n\\t<!-- start::GROUP ACTIONS -->\\r\\n\\t<!-- Group actions list: 'Delete selected' | 'Fetch selected' | 'Update status for selected' -->\\r\\n\\t<!-- Group actions are shared for all LISTS | See '../../_shared' folder -->\\r\\n\\t<div class=\\\"row align-items-center collapse kt-form__group-actions kt-margin-bottom-20\\\" [ngClass]=\\\"{'show' : selection.selected.length > 0}\\\">\\r\\n\\r\\n\\t\\t<div class=\\\"col-xl-12\\\">\\r\\n\\t\\t\\t<div class=\\\"kt-form__group kt-form__group--inline\\\">\\r\\n\\t\\t\\t\\t<div class=\\\"kt-form__label kt-form__label-no-wrap\\\">\\r\\n\\t\\t\\t\\t\\t<label class=\\\"kt--font-bold kt-font-danger-\\\">Selected records count: {{ selection.selected.length }}:</label>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t<div class=\\\"kt-form__control kt-form__group--inline\\\">\\r\\n\\t\\t\\t\\t\\t<div>\\r\\n\\t\\t\\t\\t\\t\\t<button mat-raised-button\\r\\n\\t\\t\\t\\t\\t\\t\\tcolor=\\\"accent\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t(click)=\\\"deleteSpecs()\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\tmatTooltip=\\\"Delete selected specifications\\\">Delete All</button>\\r\\n\\t\\t\\t\\t\\t\\t&nbsp;&nbsp;&nbsp;\\r\\n\\t\\t\\t\\t\\t\\t<button mat-raised-button\\r\\n\\t\\t\\t\\t\\t\\t\\tcolor=\\\"warn\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t(click)=\\\"fetchSpecs()\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\tmatTooltip=\\\"Fetch selected specifications\\\">Fetch Selected Records</button>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</div>\\r\\n\\t</div>\\r\\n\\t<!-- end::GROUP ACTIONS -->\\r\\n</div>\\r\\n<!-- end::FILTERS & GROUP ACTIONS -->\\r\\n\\r\\n<!-- MATERIAL TABLE | Binded to datasources -->\\r\\n<!-- See off.documentations 'https://material.angular.io/components/table/overview' -->\\r\\n<div class=\\\"mat-table__wrapper  mat-table__wrapper--sub\\\">\\r\\n\\t<mat-table class=\\\"lmat-elevation-z8\\\" [dataSource]=\\\"dataSource\\\" matSort matSortActive=\\\"_specificationName\\\" matSortDirection=\\\"asc\\\" matSortDisableClear>\\r\\n\\t\\t<!-- Checkbox Column -->\\r\\n\\t\\t<!-- Table with selection -->\\r\\n\\t\\t<!-- https://run.stackblitz.com/api/angular/v1?file=app%2Ftable-selection-example.ts -->\\r\\n\\t\\t<!-- Checkbox Column -->\\r\\n\\t\\t<ng-container matColumnDef=\\\"select\\\">\\r\\n\\t\\t\\t<mat-header-cell *matHeaderCellDef class=\\\"mat-column-checkbox\\\">\\r\\n\\t\\t\\t\\t<mat-checkbox (change)=\\\"$event ? masterToggle() : null\\\"\\r\\n\\t\\t\\t\\t\\t[checked]=\\\"selection.hasValue() && isAllSelected()\\\"\\r\\n\\t\\t\\t\\t\\t[indeterminate]=\\\"selection.hasValue() && !isAllSelected()\\\"\\r\\n\\t\\t\\t\\t\\t[color]=\\\"'primary'\\\">\\r\\n\\t\\t\\t\\t</mat-checkbox>\\r\\n\\t\\t\\t</mat-header-cell>\\r\\n\\t\\t\\t<mat-cell *matCellDef=\\\"let row\\\" class=\\\"mat-column-checkbox\\\">\\r\\n\\t\\t\\t\\t<mat-checkbox (click)=\\\"$event.stopPropagation()\\\"\\r\\n\\t\\t\\t\\t\\t(change)=\\\"$event ? selection.toggle(row) : null\\\"\\r\\n\\t\\t\\t\\t\\t[checked]=\\\"selection.isSelected(row)\\\"\\r\\n\\t\\t\\t\\t\\t[color]=\\\"'primary'\\\">\\r\\n\\t\\t\\t\\t</mat-checkbox>\\r\\n\\t\\t\\t</mat-cell>\\r\\n\\t\\t</ng-container>\\r\\n\\r\\n\\t\\t<ng-container matColumnDef=\\\"_specificationName\\\">\\r\\n\\t\\t\\t<mat-header-cell *matHeaderCellDef mat-sort-header class=\\\"mat-column\\\">Specification Type</mat-header-cell>\\r\\n\\t\\t\\t<mat-cell *matCellDef=\\\"let spec\\\" class=\\\"mat-column\\\">{{spec._specificationName}}</mat-cell>\\r\\n\\t\\t</ng-container>\\r\\n\\r\\n\\t\\t<ng-container matColumnDef=\\\"value\\\">\\r\\n\\t\\t\\t<mat-header-cell *matHeaderCellDef mat-sort-header class=\\\"mat-column\\\">Value</mat-header-cell>\\r\\n\\t\\t\\t<mat-cell *matCellDef=\\\"let spec\\\" class=\\\"mat-column\\\">{{spec.value}}</mat-cell>\\r\\n\\t\\t</ng-container>\\r\\n\\r\\n\\t\\t<ng-container matColumnDef=\\\"actions\\\">\\r\\n\\t\\t\\t<mat-header-cell *matHeaderCellDef class=\\\"mat-column-actions\\\">\\r\\n\\t\\t\\t\\tActions\\r\\n\\t\\t\\t</mat-header-cell>\\r\\n\\t\\t\\t<mat-cell *matCellDef=\\\"let spec\\\" class=\\\"mat-column-actions\\\">\\r\\n\\t\\t\\t\\t<button type=\\\"button\\\"\\r\\n\\t\\t\\t\\t\\tmat-icon-button\\r\\n\\t\\t\\t\\t\\tcolor=\\\"primary\\\"\\r\\n\\t\\t\\t\\t\\t(click)=\\\"editSpec(spec)\\\"\\r\\n\\t\\t\\t\\t\\tmatTooltip=\\\"Edit specification\\\">\\r\\n\\t\\t\\t\\t\\t<mat-icon>create</mat-icon>\\r\\n\\t\\t\\t\\t</button>\\r\\n\\t\\t\\t\\t&nbsp;\\r\\n\\t\\t\\t\\t<button mat-icon-button\\r\\n\\t\\t\\t\\t\\tcolor=\\\"warn\\\"\\r\\n\\t\\t\\t\\t\\ttype=\\\"button\\\"\\r\\n\\t\\t\\t\\t\\t(click)=\\\"deleteSpec(spec)\\\"\\r\\n\\t\\t\\t\\t\\tmatTooltip=\\\"Delete specification\\\">\\r\\n\\t\\t\\t\\t\\t<mat-icon>delete</mat-icon>\\r\\n\\t\\t\\t\\t</button>\\r\\n\\t\\t\\t</mat-cell>\\r\\n\\t\\t</ng-container>\\r\\n\\t\\t<mat-header-row *matHeaderRowDef=\\\"displayedColumns\\\"></mat-header-row>\\r\\n\\t\\t<mat-row *matRowDef=\\\"let row; columns: displayedColumns\\\"></mat-row>\\r\\n\\t</mat-table>\\r\\n\\r\\n\\t<div class=\\\"mat-table__message\\\" *ngIf=\\\"!dataSource.hasItems\\\">No records found</div>\\r\\n\\t<div class=\\\"mat-table__message\\\" *ngIf=\\\"dataSource.isPreloadTextViewed$ | async\\\">Please wait....</div>\\r\\n\\r\\n</div>\\r\\n<!-- start: BOTTOM -->\\r\\n<div class=\\\"mat-table__bottom\\\">\\r\\n\\t<mat-spinner [diameter]=\\\"20\\\" *ngIf=\\\"dataSource.loading$ | async\\\"></mat-spinner>\\r\\n\\t<mat-paginator [pageSize]=\\\"10\\\" [pageSizeOptions]=\\\"[3, 5, 10]\\\" [length]=\\\"dataSource.paginatorTotal$ | async\\\" [showFirstLastButtons]=\\\"true\\\"></mat-paginator>\\r\\n</div>\\r\\n<!-- end: BOTTOM -->\\r\\n\"","import { Pipe } from '@angular/core';\r\n// Angular\r\nimport { Component, OnInit, ElementRef, ViewChild, Input, ChangeDetectionStrategy, OnDestroy } from '@angular/core';\r\n// Material\r\nimport { MatPaginator, MatSort, MatDialog } from '@angular/material';\r\nimport { SelectionModel } from '@angular/cdk/collections';\r\n// RXJS\r\nimport { debounceTime, distinctUntilChanged, tap, delay } from 'rxjs/operators';\r\nimport { fromEvent, merge, BehaviorSubject, Subscription, Observable, of } from 'rxjs';\r\n// NGRX\r\nimport { Store, select } from '@ngrx/store';\r\nimport { Update } from '@ngrx/entity';\r\nimport { AppState } from '../../../../../../../../core/reducers';\r\n// CRUD\r\nimport { QueryParamsModel, LayoutUtilsService, MessageType } from '../../../../../../../../core/_base/crud';\r\n// Services and models\r\nimport {\r\n\tProductSpecificationModel,\r\n\tProductSpecificationsDataSource,\r\n\tProductSpecificationsPageRequested,\r\n\tOneProductSpecificationDeleted,\r\n\tManyProductSpecificationsDeleted,\r\n\tProductSpecificationUpdated,\r\n\tProductSpecificationOnServerCreated,\r\n\tselectLastCreatedProductSpecificationId\r\n} from '../../../../../../../../core/e-commerce';\r\n// Components\r\nimport { SpecificationEditDialogComponent } from '../specification-edit/specification-edit-dialog.component';\r\n\r\n// Table with EDIT item in new page\r\n// ARTICLE for table with sort/filter/paginator\r\n// https://blog.angular-university.io/angular-material-data-table/\r\n// https://v5.material.angular.io/components/table/overview\r\n// https://v5.material.angular.io/components/sort/overview\r\n// https://v5.material.angular.io/components/table/overview#sorting\r\n// https://www.youtube.com/watch?v=NSt9CI3BXv4\r\n@Component({\r\n\t// tslint:disable-next-line:component-selector\r\n\tselector: 'kt-specifications-list',\r\n\ttemplateUrl: './specifications-list.component.html',\r\n\tchangeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class SpecificationsListComponent implements OnInit, OnDestroy {\r\n\t// Public properties\r\n\r\n\t// Incoming data\r\n\t@Input() productId$: Observable<number>;\r\n\tproductId: number;\r\n\r\n\t// Table fields\r\n\tdataSource: ProductSpecificationsDataSource;\r\n\tdisplayedColumns = ['select', '_specificationName', 'value', 'actions'];\r\n\t@ViewChild(MatPaginator) paginator: MatPaginator;\r\n\t@ViewChild(MatSort) sort: MatSort;\r\n\t// Filter fields\r\n\t@ViewChild('searchInput') searchInput: ElementRef;\r\n\t// Selection\r\n\tselection = new SelectionModel<ProductSpecificationModel>(true, []);\r\n\tproductSpecificationsResult: ProductSpecificationModel[] = [];\r\n\r\n\t// Private properties\r\n\tprivate componentSubscriptions: Subscription;\r\n\r\n\t/**\r\n\t * Component constructor\r\n\t *\r\n\t * @param store: Store<AppState></AppState>\r\n\t * @param dialog: MatDialog\r\n\t * @param layoutUtilsService: LayoutUtilsService\r\n\t */\r\n\tconstructor(private store: Store<AppState>,\r\n\t\tpublic dialog: MatDialog,\r\n\t\tprivate layoutUtilsService: LayoutUtilsService) { }\r\n\r\n\t/**\r\n\t * @ Lifecycle sequences => https://angular.io/guide/lifecycle-hooks\r\n\t */\r\n\r\n\t/**\r\n\t * On init\r\n\t */\r\n\tngOnInit() {\r\n\t\t// If the user changes the sort order, reset back to the first page.\r\n\t\tthis.sort.sortChange.subscribe(() => (this.paginator.pageIndex = 0));\r\n\r\n\t\t/* Data load will be triggered in two cases:\r\n\t\t- when a pagination event occurs => this.paginator.page\r\n\t\t- when a sort event occurs => this.sort.sortChange\r\n\t\t**/\r\n\t\tmerge(this.sort.sortChange, this.paginator.page)\r\n\t\t\t.pipe(\r\n\t\t\t\ttap(() => {\r\n\t\t\t\t\tthis.loadSpecsList();\r\n\t\t\t\t})\r\n\t\t\t)\r\n\t\t\t.subscribe();\r\n\r\n\t\t// Filtration, bind to searchInput\r\n\t\tfromEvent(this.searchInput.nativeElement, 'keyup')\r\n\t\t\t.pipe(\r\n\t\t\t\tdebounceTime(150),\r\n\t\t\t\tdistinctUntilChanged(),\r\n\t\t\t\ttap(() => {\r\n\t\t\t\t\tthis.paginator.pageIndex = 0;\r\n\t\t\t\t\tthis.loadSpecsList();\r\n\t\t\t\t})\r\n\t\t\t)\r\n\t\t\t.subscribe();\r\n\r\n\t\t// Init DataSource\r\n\t\tthis.dataSource = new ProductSpecificationsDataSource(this.store);\r\n\t\tthis.dataSource.entitySubject.subscribe(res => this.productSpecificationsResult = res);\r\n\t\tthis.productId$.subscribe(res => {\r\n\t\t\tif (!res) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.productId = res;\r\n\t\t\tof(undefined).pipe(delay(1000)).subscribe(() => { // Remove this line, just loading imitation\r\n\t\t\t\tthis.loadSpecsList();\r\n\t\t\t}); // Remove this line, just loading imitation\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * On destroy\r\n\t */\r\n\tngOnDestroy() {\r\n\t\tif (this.componentSubscriptions) {\r\n\t\t\tthis.componentSubscriptions.unsubscribe();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Load Specs List\r\n\t */\r\n\tloadSpecsList() {\r\n\t\tthis.selection.clear();\r\n\t\tconst queryParams = new QueryParamsModel(\r\n\t\t\tthis.filterConfiguration(),\r\n\t\t\tthis.sort.direction,\r\n\t\t\tthis.sort.active,\r\n\t\t\tthis.paginator.pageIndex,\r\n\t\t\tthis.paginator.pageSize\r\n\t\t);\r\n\t\t// Call request from server\r\n\t\tthis.store.dispatch(new ProductSpecificationsPageRequested({\r\n\t\t\tpage: queryParams,\r\n\t\t\tproductId: this.productId\r\n\t\t}));\r\n\t}\r\n\r\n\t/**\r\n\t * Retirns object for filter\r\n\t */\r\n\tfilterConfiguration(): any {\r\n\t\tconst filter: any = {};\r\n\t\tconst searchText: string = this.searchInput.nativeElement.value;\r\n\r\n\t\tfilter._specificationName = searchText;\r\n\t\tfilter.value = searchText;\r\n\t\treturn filter;\r\n\t}\r\n\r\n\t/**\r\n\t * Check all rows are selected\r\n\t */\r\n\tisAllSelected() {\r\n\t\tconst numSelected = this.selection.selected.length;\r\n\t\tconst numRows = this.productSpecificationsResult.length;\r\n\t\treturn numSelected === numRows;\r\n\t}\r\n\r\n\t/**\r\n\t * Selects all rows if they are not all selected; otherwise clear selection\r\n\t */\r\n\tmasterToggle() {\r\n\t\tif (this.isAllSelected()) {\r\n\t\t\tthis.selection.clear();\r\n\t\t} else {\r\n\t\t\tthis.productSpecificationsResult.forEach(row => this.selection.select(row));\r\n\t\t}\r\n\t}\r\n\r\n\t/** ACTIONS */\r\n\t/**\r\n\t * Delete spec\r\n\t *\r\n\t * @param _item: ProductSpecificationModel\r\n\t */\r\n\tdeleteSpec(_item: ProductSpecificationModel) {\r\n\t\tconst _title: string = 'Specification Delete';\r\n\t\tconst _description: string = 'Are you sure to permanently delete this specification?';\r\n\t\tconst _waitDesciption: string = 'Specification is deleting...';\r\n\t\tconst _deleteMessage = `Specification has been deleted`;\r\n\r\n\t\tconst dialogRef = this.layoutUtilsService.deleteElement(_title, _description, _waitDesciption);\r\n\t\tdialogRef.afterClosed().subscribe(res => {\r\n\t\t\tif (!res) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.store.dispatch(new OneProductSpecificationDeleted({ id: _item.id }));\r\n\t\t\tthis.layoutUtilsService.showActionNotification(_deleteMessage, MessageType.Delete);\r\n\t\t\tthis.loadSpecsList();\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Delete specs\r\n\t */\r\n\tdeleteSpecs() {\r\n\t\tconst _title: string = 'Specifications Delete';\r\n\t\tconst _description: string = 'Are you sure to permanently delete selected specifications?';\r\n\t\tconst _waitDesciption: string = 'Specifications are deleting...';\r\n\t\tconst _deleteMessage = 'Selected specifications have been deleted';\r\n\r\n\t\tconst dialogRef = this.layoutUtilsService.deleteElement(_title, _description, _waitDesciption);\r\n\t\tdialogRef.afterClosed().subscribe(res => {\r\n\t\t\tif (!res) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst length = this.selection.selected.length;\r\n\t\t\tconst idsForDeletion: number[] = [];\r\n\t\t\tfor (let i = 0; i < length; i++) {\r\n\t\t\t\tidsForDeletion.push(this.selection.selected[i].id);\r\n\t\t\t}\r\n\t\t\tthis.store.dispatch(new ManyProductSpecificationsDeleted({ ids: idsForDeletion }));\r\n\t\t\tthis.layoutUtilsService.showActionNotification(_deleteMessage, MessageType.Delete);\r\n\t\t\tthis.selection.clear();\r\n\t\t});\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * Fetch selected specs\r\n\t */\r\n\tfetchSpecs() {\r\n\t\tconst messages = [];\r\n\t\tthis.selection.selected.forEach(elem => {\r\n\t\t\tmessages.push({\r\n\t\t\t\ttext: `${elem._specificationName}: ${elem.value}`, id: elem.id\r\n\t\t\t});\r\n\t\t});\r\n\t\tthis.layoutUtilsService.fetchElements(messages);\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * Open add spec dialog and save data\r\n\t */\r\n\taddSpec() {\r\n\t\t// tslint:disable-next-line:prefer-const\r\n\t\tlet newSpec = new ProductSpecificationModel();\r\n\t\tnewSpec.clear(this.productId);\r\n\t\tconst dialogRef = this.dialog.open(SpecificationEditDialogComponent, {\r\n\t\t\tdata: {\r\n\t\t\t\tspecId: undefined,\r\n\t\t\t\tvalue: '',\r\n\t\t\t\tisNew: true\r\n\t\t\t},\r\n\t\t\twidth: '450px'\r\n\t\t});\r\n\t\tdialogRef.afterClosed().subscribe(res => {\r\n\t\t\tif (res && res.isUpdated) {\r\n\t\t\t\tnewSpec._specificationName = res._specificationName;\r\n\t\t\t\tnewSpec.specId = res.specId;\r\n\t\t\t\tnewSpec.value = res.value;\r\n\t\t\t\tthis.store.dispatch(new ProductSpecificationOnServerCreated({ productSpecification: newSpec }));\r\n\t\t\t\tthis.componentSubscriptions = this.store.pipe(select(selectLastCreatedProductSpecificationId)).subscribe(result => {\r\n\t\t\t\t\tif (!result) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tconst saveMessage = `Specification has been created`;\r\n\t\t\t\t\tthis.layoutUtilsService.showActionNotification(saveMessage, MessageType.Create, 10000, true, true);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Edit add spec dialog ans save data\r\n\t *\r\n\t * @param item: ProductSpecificationModel\r\n\t */\r\n\teditSpec(item: ProductSpecificationModel) {\r\n\t\tconst _item = Object.assign({}, item);\r\n\t\tconst dialogRef = this.dialog.open(SpecificationEditDialogComponent, {\r\n\t\t\tdata: {\r\n\t\t\t\tspecId: _item.specId,\r\n\t\t\t\tvalue: _item.value,\r\n\t\t\t\tisNew: false\r\n\t\t\t},\r\n\t\t\twidth: '450px'\r\n\t\t});\r\n\t\tdialogRef.afterClosed().subscribe(res => {\r\n\t\t\tif (res && res.isUpdated) {\r\n\t\t\t\t_item._specificationName = res._specificationName;\r\n\t\t\t\t_item.specId = res.specId;\r\n\t\t\t\t_item.value = res.value;\r\n\r\n\t\t\t\tconst updateProductSpecification: Update<ProductSpecificationModel> = {\r\n\t\t\t\t\tid: _item.id,\r\n\t\t\t\t\tchanges: _item\r\n\t\t\t\t};\r\n\t\t\t\tthis.store.dispatch(new ProductSpecificationUpdated({\r\n\t\t\t\t\tpartialProductSpecification: updateProductSpecification,\r\n\t\t\t\t\tproductSpecification: _item\r\n\t\t\t\t}));\r\n\t\t\t\tconst saveMessage = `Specification has been updated`;\r\n\t\t\t\tthis.layoutUtilsService.showActionNotification(saveMessage, MessageType.Update, 10000, true, true);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n","module.exports = \"<kt-portlet>\\r\\n\\t<kt-portlet-header [title]=\\\"getComponentTitle()\\\" [class]=\\\"'kt-portlet__head--lg'\\\" [viewLoading$]=\\\"loading$\\\">\\r\\n\\t\\t<ng-container ktPortletTools>\\r\\n\\t\\t\\t<a [routerLink]=\\\"['../../']\\\" class=\\\"btn btn-secondary kt-margin-r-10\\\"  mat-raised-button matTooltip=\\\"Back to the products list\\\">\\r\\n\\t\\t\\t\\t<i class=\\\"la la-arrow-left\\\"></i>\\r\\n\\t\\t\\t\\t<span class=\\\"kt-hidden-mobile\\\">Back</span>\\r\\n\\t\\t\\t</a>\\r\\n\\t\\t\\t<a href=\\\"javascript:;\\\" class=\\\"btn btn-secondary kt-margin-r-10\\\" (click)=\\\"reset()\\\" [disabled]=\\\"selectedTab !== 0\\\" mat-raised-button matTooltip=\\\"Reset changes\\\">\\r\\n\\t\\t\\t\\t<i class=\\\"la la-cog\\\"></i>\\r\\n\\t\\t\\t\\t<span class=\\\"kt-hidden-mobile\\\">Reset</span>\\r\\n\\t\\t\\t</a>\\r\\n\\t\\t\\t<a href=\\\"javascript:;\\\" class=\\\"btn btn-primary kt-margin-r-10\\\" color=\\\"primary\\\" (click)=\\\"onSumbit(false)\\\" mat-raised-button matTooltip=\\\"Save & Continue\\\">\\r\\n\\t\\t\\t\\t<span class=\\\"kt-hidden-mobile\\\">Save</span>\\r\\n\\t\\t\\t</a>\\r\\n\\t\\t\\t<button mat-icon-button [matMenuTriggerFor]=\\\"menu\\\" color=\\\"primary\\\">\\r\\n\\t\\t\\t\\t<mat-icon>more_vert</mat-icon>\\r\\n\\t\\t\\t</button>\\r\\n\\t\\t\\t<mat-menu #menu=\\\"matMenu\\\">\\r\\n\\t\\t\\t\\t<button mat-menu-item color=\\\"primary\\\" (click)=\\\"onSumbit(true)\\\">Save & Exit</button>\\r\\n\\t\\t\\t\\t<button mat-menu-item color=\\\"primary\\\">Save & Duplicate</button>\\r\\n\\t\\t\\t\\t<button mat-menu-item color=\\\"primary\\\" (click)=\\\"onSumbit(false)\\\">Save & Continue</button>\\r\\n\\t\\t\\t</mat-menu>\\r\\n\\t\\t</ng-container>\\r\\n\\t</kt-portlet-header>\\r\\n\\t<kt-portlet-body>\\r\\n\\t\\t<mat-tab-group [(selectedIndex)]=\\\"selectedTab\\\" *ngIf=\\\"product\\\">\\r\\n\\t\\t\\t<mat-tab label=\\\"Basic info\\\">\\r\\n\\t\\t\\t\\t<ng-template matTabContent>\\r\\n\\t\\t\\t\\t\\t<div *ngIf=\\\"product\\\">\\r\\n\\t\\t\\t\\t\\t\\t<!--begin::Form-->\\r\\n\\t\\t\\t\\t\\t\\t<form [formGroup]=\\\"productForm\\\" class=\\\"kt-form kt-form--group-seperator-dashed\\\">\\r\\n\\r\\n\\t\\t\\t\\t\\t\\t\\t<kt-alert *ngIf=\\\"hasFormErrors\\\" type=\\\"warn\\\" [showCloseButton]=\\\"true\\\" [duration]=\\\"10000\\\" (close)=\\\"onAlertClose($event)\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tOh snap! Change a few things up and try submitting again.\\r\\n\\t\\t\\t\\t\\t\\t\\t</kt-alert>\\r\\n\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"kt-form__section kt-form__section--first\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"kt-form__group\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"row\\\">\\r\\n\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-md-4 kt-margin-bottom-10-mobile\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<mat-form-field class=\\\"mat-form-field-fluid\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<input matInput placeholder=\\\"Enter Model\\\" formControlName=\\\"model\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<mat-error>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tModel is\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong>required</strong>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</mat-error>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<mat-hint align=\\\"start\\\">Please enter\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong>Model</strong>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</mat-hint>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</mat-form-field>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-md-4 kt-margin-bottom-10-mobile\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<mat-form-field class=\\\"mat-form-field-fluid\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<input matInput placeholder=\\\"Enter Manufacture\\\" formControlName=\\\"manufacture\\\" [matAutocomplete]=\\\"manuf\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<mat-autocomplete #manuf=\\\"matAutocomplete\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<mat-option *ngFor=\\\"let manufacture of filteredManufactures | async\\\" [value]=\\\"manufacture\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{{ manufacture }}\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</mat-option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</mat-autocomplete>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<mat-error>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tManufacture is\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong>required</strong>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</mat-error>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<mat-hint align=\\\"start\\\">Please enter\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong>Manufacture</strong>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</mat-hint>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</mat-form-field>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-md-4 kt-margin-bottom-10-mobile\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<mat-form-field class=\\\"mat-form-field-fluid\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<mat-select placeholder=\\\"Enter Model year\\\" formControlName=\\\"modelYear\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<mat-option value=\\\"{{year}}\\\" *ngFor=\\\"let year of availableYears;\\\">{{year}}</mat-option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</mat-select>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<mat-error>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tModel year\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong>required</strong>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</mat-error>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<mat-hint align=\\\"start\\\">Please enter\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong>Model year</strong>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</mat-hint>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</mat-form-field>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"kt-form__group\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"row\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-md-4 kt-margin-bottom-10-mobile\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<mat-form-field class=\\\"mat-form-field-fluid\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<input matInput placeholder=\\\"Enter Mileage\\\" formControlName=\\\"mileage\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<mat-error>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tMileage is\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong>required</strong>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</mat-error>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<mat-hint align=\\\"start\\\">Please enter\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong>Mileage</strong>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</mat-hint>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</mat-form-field>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-md-4 kt-margin-bottom-10-mobile\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<mat-form-field class=\\\"mat-form-field-fluid\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<input matInput placeholder=\\\"Enter Color\\\" formControlName=\\\"color\\\" [matAutocomplete]=\\\"col\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<mat-autocomplete #col=\\\"matAutocomplete\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<mat-option *ngFor=\\\"let col of filteredColors | async\\\" [value]=\\\"col\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{{ col }}\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</mat-option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</mat-autocomplete>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<mat-error>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tColor\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong>required</strong>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</mat-error>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<mat-hint align=\\\"start\\\">Please enter\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong>Color</strong>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</mat-hint>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</mat-form-field>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-md-4 kt-margin-bottom-10-mobile\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<mat-form-field class=\\\"mat-form-field-fluid\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<input matInput placeholder=\\\"Enter Price\\\" formControlName=\\\"price\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span matPrefix>$&nbsp;</span>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<mat-error>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tPrice is\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong>required</strong>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</mat-error>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<mat-hint align=\\\"start\\\">Please enter\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong>Price</strong>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</mat-hint>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</mat-form-field>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"kt-form__group\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"row\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-md-4 kt-margin-bottom-10-mobile\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<mat-form-field class=\\\"mat-form-field-fluid\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<input matInput placeholder=\\\"Enter VIN code\\\" formControlName=\\\"VINCode\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<mat-error>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tVIN Code is\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong>required</strong>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</mat-error>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<mat-hint align=\\\"start\\\">Please enter\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong>VIN Code</strong>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</mat-hint>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</mat-form-field>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-md-4 kt-margin-bottom-10-mobile\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div>Condition:</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<mat-radio-group formControlName=\\\"condition\\\" class=\\\"example-radio-group\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<mat-radio-button class=\\\"example-radio-button\\\" value=\\\"0\\\">New</mat-radio-button>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<mat-radio-button class=\\\"example-radio-button\\\" value=\\\"1\\\">Used</mat-radio-button>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</mat-radio-group>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-md-4\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div>Status:</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<mat-radio-group formControlName=\\\"status\\\" class=\\\"example-radio-group\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<mat-radio-button class=\\\"example-radio-button\\\" value=\\\"0\\\">Selling</mat-radio-button>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<mat-radio-button class=\\\"example-radio-button\\\" value=\\\"1\\\">Sold</mat-radio-button>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</mat-radio-group>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"kt-form__group\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"row\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-md-12 kt-margin-bottom-10-mobile\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<mat-form-field class=\\\"mat-form-field-fluid\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<textarea matInput rows=\\\"7\\\" placeholder=\\\"Enter Description\\\" formControlName=\\\"description\\\"></textarea>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</mat-form-field>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t</form>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t\\t\\t<!--end::Form-->\\r\\n\\t\\t\\t\\t</ng-template>\\r\\n\\t\\t\\t</mat-tab>\\r\\n\\t\\t\\t<mat-tab label=\\\"Product remarks\\\" [disabled]=\\\"!product || !product.id\\\">\\r\\n\\t\\t\\t\\t<ng-template matTabContent>\\r\\n\\t\\t\\t\\t\\t<kt-remarks-list [productId$]=\\\"productId$\\\"></kt-remarks-list>\\r\\n\\t\\t\\t\\t</ng-template>\\r\\n\\t\\t\\t</mat-tab>\\r\\n\\t\\t\\t<mat-tab label=\\\"Product specifications\\\" [disabled]=\\\"!product || !product.id\\\">\\r\\n\\t\\t\\t\\t<ng-template matTabContent>\\r\\n\\t\\t\\t\\t\\t<kt-specifications-list [productId$]=\\\"productId$\\\"></kt-specifications-list>\\r\\n\\t\\t\\t\\t</ng-template>\\r\\n\\t\\t\\t</mat-tab>\\r\\n\\t\\t</mat-tab-group>\\r\\n\\t</kt-portlet-body>\\r\\n</kt-portlet>\\r\\n\"","// Angular\r\nimport { Component, OnInit, ChangeDetectionStrategy, OnDestroy, ChangeDetectorRef } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\n// Material\r\nimport { MatDialog } from '@angular/material';\r\n// RxJS\r\nimport { Observable, BehaviorSubject, Subscription, of } from 'rxjs';\r\nimport { map, startWith, delay, first} from 'rxjs/operators';\r\n// NGRX\r\nimport { Store, select } from '@ngrx/store';\r\nimport { Dictionary, Update } from '@ngrx/entity';\r\nimport { AppState } from '../../../../../../core/reducers';\r\n// Layout\r\nimport { SubheaderService, LayoutConfigService } from '../../../../../../core/_base/layout';\r\n// CRUD\r\nimport { LayoutUtilsService, TypesUtilsService, MessageType } from '../../../../../../core/_base/crud';\r\n// Services and Models\r\nimport {\r\n\tselectLastCreatedProductId,\r\n\tselectProductById,\r\n\tSPECIFICATIONS_DICTIONARY,\r\n\tProductModel,\r\n\tProductOnServerCreated,\r\n\tProductUpdated\r\n} from '../../../../../../core/e-commerce';\r\n\r\nconst AVAILABLE_COLORS: string[] =\r\n\t['Red', 'CadetBlue', 'Gold', 'LightSlateGrey', 'RoyalBlue', 'Crimson', 'Blue', 'Sienna', 'Indigo', 'Green', 'Violet',\r\n\t'GoldenRod', 'OrangeRed', 'Khaki', 'Teal', 'Purple', 'Orange', 'Pink', 'Black', 'DarkTurquoise'];\r\n\r\nconst AVAILABLE_MANUFACTURES: string[] =\r\n\t['Pontiac', 'Subaru', 'Mitsubishi', 'Oldsmobile', 'Chevrolet', 'Chrysler', 'Suzuki', 'GMC', 'Cadillac', 'Mercury', 'Dodge',\r\n\t'Ram', 'Lexus', 'Lamborghini', 'Honda', 'Nissan', 'Ford', 'Hyundai', 'Saab', 'Toyota'];\r\n\r\n@Component({\r\n\t// tslint:disable-next-line:component-selector\r\n\tselector: 'kt-product-edit',\r\n\ttemplateUrl: './product-edit.component.html',\r\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class ProductEditComponent implements OnInit, OnDestroy {\r\n\t// Public properties\r\n\tproduct: ProductModel;\r\n\tproductId$: Observable<number>;\r\n\toldProduct: ProductModel;\r\n\tselectedTab: number = 0;\r\n\tloadingSubject = new BehaviorSubject<boolean>(true);\r\n\tloading$: Observable<boolean>;\r\n\tproductForm: FormGroup;\r\n\thasFormErrors: boolean = false;\r\n\tavailableYears: number[] = [];\r\n\tfilteredColors: Observable<string[]>;\r\n\tfilteredManufactures: Observable<string[]>;\r\n\t// Private password\r\n\tprivate componentSubscriptions: Subscription;\r\n\t// sticky portlet header margin\r\n\tprivate headerMargin: number;\r\n\r\n\t/**\r\n\t * Component constructor\r\n\t *\r\n\t * @param store: Store<AppState>\r\n\t * @param activatedRoute: ActivatedRoute\r\n\t * @param router: Router\r\n\t * @param typesUtilsService: TypesUtilsService\r\n\t * @param productFB: FormBuilder\r\n\t * @param dialog: MatDialog\r\n\t * @param subheaderService: SubheaderService\r\n\t * @param layoutUtilsService: SubheaderService\r\n\t * @param layoutConfigService: LayoutConfigService\r\n\t */\r\n\tconstructor(\r\n\t\tprivate store: Store<AppState>,\r\n\t\tprivate activatedRoute: ActivatedRoute,\r\n\t\tprivate router: Router,\r\n\t\tprivate typesUtilsService: TypesUtilsService,\r\n\t\tprivate productFB: FormBuilder,\r\n\t\tpublic dialog: MatDialog,\r\n\t\tprivate subheaderService: SubheaderService,\r\n\t\tprivate layoutUtilsService: LayoutUtilsService,\r\n\t\tprivate layoutConfigService: LayoutConfigService) {\r\n\t\t}\r\n\r\n\t/**\r\n\t * @ Lifecycle sequences => https://angular.io/guide/lifecycle-hooks\r\n\t */\r\n\r\n\t/**\r\n\t * On init\r\n\t */\r\n\tngOnInit() {\r\n\t\tfor (let i = 2019; i > 1945; i--) {\r\n\t\t\tthis.availableYears.push(i);\r\n\t\t}\r\n\t\tthis.loading$ = this.loadingSubject.asObservable();\r\n\t\tthis.loadingSubject.next(true);\r\n\t\tthis.activatedRoute.params.subscribe(params => {\r\n\t\t\tconst id = params['id'];\r\n\t\t\tif (id && id > 0) {\r\n\t\t\t\tthis.store.pipe(\r\n\t\t\t\t\tselect(selectProductById(id)),\r\n\t\t\t\t\tfirst(res => {\r\n\t\t\t\t\t\treturn res !== undefined;\r\n\t\t\t\t\t})\r\n\t\t\t\t).subscribe(result => {\r\n\t\t\t\t\tthis.product = result;\r\n\t\t\t\t\tthis.productId$ = of(result.id);\r\n\t\t\t\t\tthis.oldProduct = Object.assign({}, result);\r\n\t\t\t\t\tthis.initProduct();\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t\tconst newProduct = new ProductModel();\r\n\t\t\t\t\tnewProduct.clear();\r\n\t\t\t\t\tthis.productId$ = of(newProduct.id);\r\n\t\t\t\t\tthis.product = newProduct;\r\n\t\t\t\t\tthis.oldProduct = Object.assign({}, newProduct);\r\n\t\t\t\t\tthis.initProduct();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t// sticky portlet header\r\n\t\twindow.onload = () => {\r\n\t\t\tconst style = getComputedStyle(document.getElementById('kt_header'));\r\n\t\t\tthis.headerMargin = parseInt(style.height, 0);\r\n\t\t};\r\n\t}\r\n\r\n\t/**\r\n\t * On destroy\r\n\t */\r\n\tngOnDestroy() {\r\n\t\tif (this.componentSubscriptions) {\r\n\t\t\tthis.componentSubscriptions.unsubscribe();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Init product\r\n\t */\r\n\tinitProduct() {\r\n\t\tthis.createForm();\r\n\t\tconst prefix = this.layoutConfigService.getCurrentMainRoute();\r\n\t\tthis.loadingSubject.next(false);\r\n\t\tif (!this.product.id) {\r\n\t\t\tthis.subheaderService.setBreadcrumbs([\r\n\t\t\t\t{ title: 'eCommerce', page: `../${prefix}/ecommerce` },\r\n\t\t\t\t{ title: 'Products',  page: `../${prefix}/ecommerce/products` },\r\n\t\t\t\t{ title: 'Create product', page: `../${prefix}/ecommerce/products/add` }\r\n\t\t\t]);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.subheaderService.setTitle('Edit product');\r\n\t\tthis.subheaderService.setBreadcrumbs([\r\n\t\t\t{ title: 'eCommerce', page: `../${prefix}/ecommerce` },\r\n\t\t\t{ title: 'Products',  page: `../${prefix}/ecommerce/products` },\r\n\t\t\t{ title: 'Edit product', page: `../${prefix}/ecommerce/products/edit`, queryParams: { id: this.product.id } }\r\n\t\t]);\r\n\t}\r\n\r\n\t/**\r\n\t * Create form\r\n\t */\r\n\tcreateForm() {\r\n\t\tthis.productForm = this.productFB.group({\r\n\t\t\tmodel: [this.product.model, Validators.required],\r\n\t\t\tmanufacture: [this.product.manufacture, Validators.required],\r\n\t\t\tmodelYear: [this.product.modelYear.toString(), Validators.required],\r\n\t\t\tmileage: [this.product.mileage, [Validators.required, Validators.pattern(/^-?(0|[1-9]\\d*)?$/)]],\r\n\t\t\tdescription: [this.product.description],\r\n\t\t\tcolor: [this.product.color, Validators.required],\r\n\t\t\tprice: [this.product.price, [Validators.required, Validators.pattern(/^-?(0|[1-9]\\d*)?$/)]],\r\n\t\t\tcondition: [this.product.condition.toString(), [Validators.required, Validators.min(0), Validators.max(1)]],\r\n\t\t\tstatus: [this.product.status.toString(), [Validators.required, Validators.min(0), Validators.max(1)]],\r\n\t\t\tVINCode: [this.product.VINCode, Validators.required]\r\n\t\t});\r\n\r\n\t\tthis.filteredManufactures = this.productForm.controls.manufacture.valueChanges\r\n\t\t\t.pipe(\r\n\t\t\t\tstartWith(''),\r\n\t\t\t\tmap(val => this.filterManufacture(val.toString()))\r\n\t\t\t);\r\n\t\tthis.filteredColors = this.productForm.controls.color.valueChanges\r\n\t\t\t.pipe(\r\n\t\t\t\tstartWith(''),\r\n\t\t\t\tmap(val => this.filterColor(val.toString()))\r\n\t\t);\r\n\t}\r\n\r\n\t/**\r\n\t * Filter manufacture\r\n\t *\r\n\t * @param val: string\r\n\t */\r\n\tfilterManufacture(val: string): string[] {\r\n\t\treturn AVAILABLE_MANUFACTURES.filter(option =>\r\n\t\t\toption.toLowerCase().includes(val.toLowerCase()));\r\n\t}\r\n\r\n\t/**\r\n\t * Filter color\r\n\t *\r\n\t * @param val: string\r\n\t */\r\n\tfilterColor(val: string): string[] {\r\n\t\treturn AVAILABLE_COLORS.filter(option =>\r\n\t\t\toption.toLowerCase().includes(val.toLowerCase()));\r\n\t}\r\n\r\n\t/**\r\n\t * Go back to the list\r\n\t *\r\n\t * @param id: any\r\n\t */\r\n\tgoBack(id) {\r\n\t\tthis.loadingSubject.next(false);\r\n\t\tconst url = `${this.layoutConfigService.getCurrentMainRoute()}/ecommerce/products?id=${id}`;\r\n\t\tthis.router.navigateByUrl(url, { relativeTo: this.activatedRoute });\r\n\t}\r\n\r\n\t/**\r\n\t * Refresh product\r\n\t *\r\n\t * @param isNew: boolean\r\n\t * @param id: number\r\n\t */\r\n\trefreshProduct(isNew: boolean = false, id = 0) {\r\n\t\tthis.loadingSubject.next(false);\r\n\t\tlet url = this.router.url;\r\n\t\tif (!isNew) {\r\n\t\t\tthis.router.navigate([url], { relativeTo: this.activatedRoute });\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\turl = `${this.layoutConfigService.getCurrentMainRoute()}/ecommerce/products/edit/${id}`;\r\n\t\tthis.router.navigateByUrl(url, { relativeTo: this.activatedRoute });\r\n\t}\r\n\r\n\t/**\r\n\t * Reset\r\n\t */\r\n\treset() {\r\n\t\tthis.product = Object.assign({}, this.oldProduct);\r\n\t\tthis.createForm();\r\n\t\tthis.hasFormErrors = false;\r\n\t\tthis.productForm.markAsPristine();\r\n        this.productForm.markAsUntouched();\r\n        this.productForm.updateValueAndValidity();\r\n\t}\r\n\r\n\t/**\r\n\t * Save data\r\n\t *\r\n\t * @param withBack: boolean\r\n\t */\r\n\tonSumbit(withBack: boolean = false) {\r\n\t\tthis.hasFormErrors = false;\r\n\t\tconst controls = this.productForm.controls;\r\n\t\t/** check form */\r\n\t\tif (this.productForm.invalid) {\r\n\t\t\tObject.keys(controls).forEach(controlName =>\r\n\t\t\t\tcontrols[controlName].markAsTouched()\r\n\t\t\t);\r\n\r\n\t\t\tthis.hasFormErrors = true;\r\n\t\t\tthis.selectedTab = 0;\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// tslint:disable-next-line:prefer-const\r\n\t\tlet editedProduct = this.prepareProduct();\r\n\r\n\t\tif (editedProduct.id > 0) {\r\n\t\t\tthis.updateProduct(editedProduct, withBack);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.addProduct(editedProduct, withBack);\r\n\t}\r\n\r\n\t/**\r\n\t * Returns object for saving\r\n\t */\r\n\tprepareProduct(): ProductModel {\r\n\t\tconst controls = this.productForm.controls;\r\n\t\tconst _product = new ProductModel();\r\n\t\t_product.id = this.product.id;\r\n\t\t_product.model = controls['model'].value;\r\n\t\t_product.manufacture = controls['manufacture'].value;\r\n\t\t_product.modelYear = +controls['modelYear'].value;\r\n\t\t_product.mileage = +controls['mileage'].value;\r\n\t\t_product.description = controls['description'].value;\r\n\t\t_product.color = controls['color'].value;\r\n\t\t_product.price = +controls['price'].value;\r\n\t\t_product.condition = +controls['condition'].value;\r\n\t\t_product.status = +controls['status'].value;\r\n\t\t_product.VINCode = controls['VINCode'].value;\r\n\t\t_product._userId = 1; // TODO: get version from userId\r\n\t\t_product._createdDate = this.product._createdDate;\r\n\t\t_product._updatedDate = this.product._updatedDate;\r\n\t\t_product._updatedDate = this.typesUtilsService.getDateStringFromDate();\r\n\t\t_product._createdDate = this.product.id > 0 ? _product._createdDate : _product._updatedDate;\r\n\t\treturn _product;\r\n\t}\r\n\r\n\t/**\r\n\t * Add product\r\n\t *\r\n\t * @param _product: ProductModel\r\n\t * @param withBack: boolean\r\n\t */\r\n\taddProduct(_product: ProductModel, withBack: boolean = false) {\r\n\t\tthis.loadingSubject.next(true);\r\n\t\tthis.store.dispatch(new ProductOnServerCreated({ product: _product }));\r\n\t\tthis.componentSubscriptions = this.store.pipe(\r\n\t\t\tdelay(1000),\r\n\t\t\tselect(selectLastCreatedProductId)\r\n\t\t).subscribe(newId => {\r\n\t\t\tif (!newId) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.loadingSubject.next(false);\r\n\t\t\tif (withBack) {\r\n\t\t\t\tthis.goBack(newId);\r\n\t\t\t} else {\r\n\t\t\t \tconst message = `New product successfully has been added.`;\r\n\t\t\t \tthis.layoutUtilsService.showActionNotification(message, MessageType.Create, 10000, true, true);\r\n\t\t\t \tthis.refreshProduct(true, newId);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Update product\r\n\t *\r\n\t * @param _product: ProductModel\r\n\t * @param withBack: boolean\r\n\t */\r\n\tupdateProduct(_product: ProductModel, withBack: boolean = false) {\r\n\t\tthis.loadingSubject.next(true);\r\n\r\n\t\tconst updateProduct: Update<ProductModel> = {\r\n\t\t\tid: _product.id,\r\n\t\t\tchanges: _product\r\n\t\t};\r\n\r\n\t\tthis.store.dispatch(new ProductUpdated({\r\n\t\t\tpartialProduct: updateProduct,\r\n\t\t\tproduct: _product\r\n\t\t}));\r\n\r\n\t\tof(undefined).pipe(delay(3000)).subscribe(() => { // Remove this line\r\n\t\t\tif (withBack) {\r\n\t\t \t\tthis.goBack(_product.id);\r\n\t\t\t} else {\r\n\t\t\t\tconst message = `Product successfully has been saved.`;\r\n\t\t\t\tthis.layoutUtilsService.showActionNotification(message, MessageType.Update, 10000, true, true);\r\n\t\t \t\tthis.refreshProduct(false);\r\n\t\t\t}\r\n\t\t}); // Remove this line\r\n\t}\r\n\r\n\t/**\r\n\t * Returns component title\r\n\t */\r\n\tgetComponentTitle() {\r\n\t\tlet result = 'Create product';\r\n\t\tif (!this.product || !this.product.id) {\r\n\t\t\treturn result;\r\n\t\t}\r\n\r\n\t\tresult = `Edit product - ${this.product.manufacture} ${this.product.model}, ${this.product.modelYear}`;\r\n\t\treturn result;\r\n\t}\r\n\r\n\t/**\r\n\t * Close alert\r\n\t *\r\n\t * @param $event\r\n\t */\r\n\tonAlertClose($event) {\r\n\t\tthis.hasFormErrors = false;\r\n\t}\r\n}\r\n","module.exports = \"<kt-portlet>\\r\\n\\r\\n\\t<kt-portlet-header [title]=\\\"'Products list'\\\" [class]=\\\"'kt-portlet__head--lg'\\\" [viewLoading$]=\\\"dataSource.loading$\\\">\\r\\n\\t\\t<ng-container ktPortletTools>\\r\\n\\t\\t\\t<button [routerLink]=\\\"['../products/add']\\\" mat-raised-button color=\\\"primary\\\" matTooltip=\\\"Create new product\\\">New product</button>\\r\\n\\t\\t</ng-container>\\r\\n\\t</kt-portlet-header>\\r\\n\\t<!-- end::Header -->\\r\\n\\r\\n\\t<kt-portlet-body>\\r\\n\\t\\t<!-- start::FILTERS & GROUP ACTIONS -->\\r\\n\\t\\t<div class=\\\"kt-form\\\">\\r\\n\\t\\t\\t<!-- start::FILTERS -->\\r\\n\\t\\t\\t<div class=\\\"kt-form__filtration\\\">\\r\\n\\t\\t\\t\\t<div class=\\\"row align-items-center\\\">\\r\\n\\t\\t\\t\\t\\t<div class=\\\"col-md-2 kt-margin-bottom-10-mobile\\\">\\r\\n\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"kt-form__control\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<mat-form-field>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<mat-select [(value)]=\\\"filterStatus\\\" (selectionChange)=\\\"loadProductsList()\\\" class=\\\"mat-form-field mat-form-field-fluid\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<mat-option value=\\\"\\\">All</mat-option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<mat-option value=\\\"0\\\">Selling</mat-option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<mat-option value=\\\"1\\\">Sold</mat-option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</mat-select>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<mat-hint align=\\\"start\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong>Filter by Status</strong>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</mat-hint>\\r\\n\\t\\t\\t\\t\\t\\t\\t</mat-form-field>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t<div class=\\\"col-md-2 kt-margin-bottom-10-mobile\\\">\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"kt-form__control\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<mat-form-field>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<mat-select [(value)]=\\\"filterCondition\\\" (selectionChange)=\\\"loadProductsList()\\\" class=\\\"mat-form-field mat-form-field-fluid\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<mat-option value=\\\"\\\">All</mat-option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<mat-option value=\\\"0\\\">New</mat-option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<mat-option value=\\\"1\\\">Used</mat-option>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</mat-select>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<mat-hint align=\\\"start\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong>Filter by Contidion</strong>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</mat-hint>\\r\\n\\t\\t\\t\\t\\t\\t\\t</mat-form-field>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"d-md-none kt-margin-bottom-10\\\"></div>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t<div class=\\\"col-md-4 kt-margin-bottom-10-mobile\\\">\\r\\n\\t\\t\\t\\t\\t\\t<mat-form-field>\\r\\n\\t\\t\\t\\t\\t\\t\\t<input matInput placeholder=\\\"Search product\\\" #searchInput placeholder=\\\"Search\\\" class=\\\"mat-form-field mat-form-field-fluid\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<mat-hint align=\\\"start\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<strong>Search in all fields</strong>\\r\\n\\t\\t\\t\\t\\t\\t\\t</mat-hint>\\r\\n\\t\\t\\t\\t\\t\\t</mat-form-field>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t<!-- end::FILTERS -->\\r\\n\\r\\n\\t\\t\\t<!-- start::GROUP ACTIONS -->\\r\\n\\t\\t\\t<!-- Group actions list: 'Delete selected' | 'Fetch selected' | 'Update status for selected' -->\\r\\n\\t\\t\\t<!-- Group actions are shared for all LISTS | See '../../_shared' folder -->\\r\\n\\t\\t\\t<div class=\\\"row align-items-center collapse kt-form__group-actions kt-margin-top-20 kt-margin-bottom-20\\\" [ngClass]=\\\"{'show' : selection.selected.length > 0}\\\">\\r\\n\\t\\t\\t\\t<div class=\\\"col-xl-12\\\">\\r\\n\\t\\t\\t\\t\\t<div class=\\\"kt-form__group kt-form__group--inline\\\">\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"kt-form__label kt-form__label-no-wrap\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<label class=\\\"kt--font-bold kt-font-danger-\\\">Selected records count: {{ selection.selected.length }}</label>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"kt-form__control kt-form__group--inline\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<button mat-raised-button color=\\\"accent\\\" (click)=\\\"deleteProducts()\\\" matTooltip=\\\"Delete selected products\\\"  class=\\\"mat-button-mt-4\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<mat-icon>delete</mat-icon>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tDelete All\\r\\n\\t\\t\\t\\t\\t\\t\\t</button>&nbsp;<!-- Call 'delete-entity-dialog' from _shared folder -->\\r\\n\\t\\t\\t\\t\\t\\t\\t<button mat-raised-button (click)=\\\"fetchProducts()\\\" matTooltip=\\\"Fetch selected products\\\"  class=\\\"mat-button-mt-4\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<mat-icon>clear_all</mat-icon>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tFetch Selected Records\\r\\n\\t\\t\\t\\t\\t\\t\\t</button>&nbsp;<!-- Call 'fetch-entity-dialog' from _shared folder -->\\r\\n\\t\\t\\t\\t\\t\\t\\t<button mat-raised-button (click)=\\\"updateStatusForProducts()\\\" matTooltip=\\\"Update status for selected products\\\"  class=\\\"mat-button-mt-4\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<mat-icon>update</mat-icon>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tUpdate status\\r\\n\\t\\t\\t\\t\\t\\t\\t</button><!-- Call 'update-stated-dialog' from _shared folder -->\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t<!-- end::GROUP ACTIONS -->\\r\\n\\t\\t</div>\\r\\n\\t\\t<!-- end::FILTERS & GROUP ACTIONS -->\\r\\n\\r\\n\\t\\t<!-- MATERIAL TABLE | Binded to datasources -->\\r\\n\\t\\t<!-- See off.documentations 'https://material.angular.io/components/table/overview' -->\\r\\n\\t\\t<div class=\\\"mat-table__wrapper\\\">\\r\\n\\t\\t\\t<!-- Checkbox Column -->\\r\\n\\t\\t\\t<!-- Table with selection -->\\r\\n\\t\\t\\t<!-- https://run.stackblitz.com/api/angular/v1?file=app%2Ftable-selection-example.ts -->\\r\\n\\t\\t\\t<mat-table class=\\\"lmat-elevation-z8\\\"\\r\\n\\t\\t\\t\\t#table\\r\\n\\t\\t\\t\\t[dataSource]=\\\"dataSource\\\"\\r\\n\\t\\t\\t\\tmatSort\\r\\n\\t\\t\\t\\t#sort1=\\\"matSort\\\"\\r\\n\\t\\t\\t\\tmatSortActive=\\\"id\\\"\\r\\n\\t\\t\\t\\tmatSortDirection=\\\"asc\\\"\\r\\n\\t\\t\\t\\tmatSortDisableClear>\\r\\n\\t\\t\\t\\t<!-- Checkbox Column -->\\r\\n\\t\\t\\t\\t<ng-container matColumnDef=\\\"select\\\">\\r\\n\\t\\t\\t\\t\\t<mat-header-cell *matHeaderCellDef class=\\\"mat-column-checkbox\\\">\\r\\n\\t\\t\\t\\t\\t\\t<mat-checkbox (change)=\\\"$event ? masterToggle() : null\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t[checked]=\\\"selection.hasValue() && isAllSelected()\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t[indeterminate]=\\\"selection.hasValue() && !isAllSelected()\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t[color]=\\\"'primary'\\\">\\r\\n\\t\\t\\t\\t\\t\\t</mat-checkbox>\\r\\n\\t\\t\\t\\t\\t</mat-header-cell>\\r\\n\\t\\t\\t\\t\\t<mat-cell *matCellDef=\\\"let row\\\" class=\\\"mat-column-checkbox\\\">\\r\\n\\t\\t\\t\\t\\t\\t<mat-checkbox (click)=\\\"$event.stopPropagation()\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t(change)=\\\"$event ? selection.toggle(row) : null\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t[checked]=\\\"selection.isSelected(row)\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t[color]=\\\"'primary'\\\">\\r\\n\\t\\t\\t\\t\\t\\t</mat-checkbox>\\r\\n\\t\\t\\t\\t\\t</mat-cell>\\r\\n\\t\\t\\t\\t</ng-container>\\r\\n\\r\\n\\t\\t\\t\\t<ng-container matColumnDef=\\\"VINCode\\\">\\r\\n\\t\\t\\t\\t\\t<mat-header-cell *matHeaderCellDef mat-sort-header class=\\\"mat-column-vinCode\\\">VIN Code (ID)</mat-header-cell>\\r\\n\\t\\t\\t\\t\\t<mat-cell *matCellDef=\\\"let product\\\" class=\\\"mat-column-vinCode\\\">{{product.VINCode}}</mat-cell>\\r\\n\\t\\t\\t\\t</ng-container>\\r\\n\\r\\n\\t\\t\\t\\t<ng-container matColumnDef=\\\"manufacture\\\">\\r\\n\\t\\t\\t\\t\\t<mat-header-cell *matHeaderCellDef mat-sort-header>Manufacture</mat-header-cell>\\r\\n\\t\\t\\t\\t\\t<mat-cell *matCellDef=\\\"let product\\\">{{product.manufacture}}</mat-cell>\\r\\n\\t\\t\\t\\t</ng-container>\\r\\n\\r\\n\\t\\t\\t\\t<ng-container matColumnDef=\\\"model\\\">\\r\\n\\t\\t\\t\\t\\t<mat-header-cell *matHeaderCellDef mat-sort-header>Model</mat-header-cell>\\r\\n\\t\\t\\t\\t\\t<mat-cell *matCellDef=\\\"let product\\\">{{product.model}}</mat-cell>\\r\\n\\t\\t\\t\\t</ng-container>\\r\\n\\r\\n\\t\\t\\t\\t<ng-container matColumnDef=\\\"modelYear\\\">\\r\\n\\t\\t\\t\\t\\t<mat-header-cell *matHeaderCellDef mat-sort-header>Model Year</mat-header-cell>\\r\\n\\t\\t\\t\\t\\t<mat-cell *matCellDef=\\\"let product\\\">{{product.modelYear}}</mat-cell>\\r\\n\\t\\t\\t\\t</ng-container>\\r\\n\\r\\n\\t\\t\\t\\t<ng-container matColumnDef=\\\"color\\\">\\r\\n\\t\\t\\t\\t\\t<mat-header-cell *matHeaderCellDef mat-sort-header>Color</mat-header-cell>\\r\\n\\t\\t\\t\\t\\t<mat-cell *matCellDef=\\\"let product\\\" [ngStyle]=\\\"{ 'color' : product.color }\\\">{{product.color}}</mat-cell>\\r\\n\\t\\t\\t\\t</ng-container>\\r\\n\\r\\n\\t\\t\\t\\t<ng-container matColumnDef=\\\"price\\\">\\r\\n\\t\\t\\t\\t\\t<mat-header-cell *matHeaderCellDef mat-sort-header>Price</mat-header-cell>\\r\\n\\t\\t\\t\\t\\t<mat-cell *matCellDef=\\\"let product\\\">${{product.price}}</mat-cell>\\r\\n\\t\\t\\t\\t</ng-container>\\r\\n\\r\\n\\t\\t\\t\\t<ng-container matColumnDef=\\\"status\\\">\\r\\n\\t\\t\\t\\t\\t<mat-header-cell *matHeaderCellDef mat-sort-header>Status</mat-header-cell>\\r\\n\\t\\t\\t\\t\\t<mat-cell *matCellDef=\\\"let product\\\">\\r\\n\\t\\t\\t\\t\\t\\t<span class=\\\"kt-badge kt-badge--inline kt-badge--pill kt-badge--{{ getItemCssClassByStatus(product.status) }} kt-badge--wide\\\">{{ getItemStatusString(product.status) }}</span>\\r\\n\\t\\t\\t\\t\\t</mat-cell>\\r\\n\\t\\t\\t\\t</ng-container>\\r\\n\\r\\n\\t\\t\\t\\t<ng-container matColumnDef=\\\"condition\\\">\\r\\n\\t\\t\\t\\t\\t<mat-header-cell *matHeaderCellDef mat-sort-header>Condition</mat-header-cell>\\r\\n\\t\\t\\t\\t\\t<mat-cell *matCellDef=\\\"let product\\\">\\r\\n\\t\\t\\t\\t\\t\\t<span class=\\\"kt-badge kt-badge--{{ getItemCssClassByCondition(product.condition) }} kt-badge--dot\\\"></span>&nbsp;\\r\\n\\t\\t\\t\\t\\t\\t<span class=\\\"kt--font-bold kt-font-{{ getItemCssClassByCondition(product.condition) }}\\\">{{ getItemConditionString(product.condition) }}</span>\\r\\n\\t\\t\\t\\t\\t</mat-cell>\\r\\n\\t\\t\\t\\t</ng-container>\\r\\n\\r\\n\\t\\t\\t\\t<ng-container matColumnDef=\\\"actions\\\">\\r\\n\\t\\t\\t\\t\\t<mat-header-cell *matHeaderCellDef>\\r\\n\\t\\t\\t\\t\\t\\tActions\\r\\n\\t\\t\\t\\t\\t</mat-header-cell>\\r\\n\\t\\t\\t\\t\\t<mat-cell *matCellDef=\\\"let product\\\">\\r\\n\\t\\t\\t\\t\\t\\t<button type=\\\"button\\\" (click)=\\\"editProduct(product.id)\\\" mat-icon-button color=\\\"primary\\\" matTooltip=\\\"Edit product\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<mat-icon>create</mat-icon>\\r\\n\\t\\t\\t\\t\\t\\t</button>&nbsp;\\r\\n\\t\\t\\t\\t\\t\\t<button mat-icon-button color=\\\"warn\\\" type=\\\"button\\\" (click)=\\\"deleteProduct(product)\\\" matTooltip=\\\"Delete product\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<mat-icon>delete</mat-icon>\\r\\n\\t\\t\\t\\t\\t\\t</button>&nbsp;\\r\\n\\t\\t\\t\\t\\t\\t<button mat-icon-button [matMenuTriggerFor]=\\\"menu\\\" matTooltip=\\\"More actions\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<mat-icon>more_vert</mat-icon>\\r\\n\\t\\t\\t\\t\\t\\t</button>\\r\\n\\t\\t\\t\\t\\t\\t<mat-menu #menu=\\\"matMenu\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<button mat-menu-item type=\\\"button\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<mat-icon>subject</mat-icon>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<span>Remarks</span>\\r\\n\\t\\t\\t\\t\\t\\t\\t</button>\\r\\n\\t\\t\\t\\t\\t\\t\\t<button mat-menu-item type=\\\"button\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<mat-icon>assignment</mat-icon>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<span>Specifications</span>\\r\\n\\t\\t\\t\\t\\t\\t\\t</button>\\r\\n\\t\\t\\t\\t\\t\\t</mat-menu>\\r\\n\\t\\t\\t\\t\\t</mat-cell>\\r\\n\\t\\t\\t\\t</ng-container>\\r\\n\\r\\n\\t\\t\\t\\t<mat-header-row *matHeaderRowDef=\\\"displayedColumns\\\"></mat-header-row>\\r\\n\\t\\t\\t\\t<mat-row *matRowDef=\\\"let row; columns: displayedColumns\\\"></mat-row>\\r\\n\\t\\t\\t</mat-table>\\r\\n\\t\\t\\t<div class=\\\"mat-table__message\\\" *ngIf=\\\"!dataSource.hasItems\\\">No records found</div>\\r\\n\\t\\t\\t<div class=\\\"mat-table__message\\\" *ngIf=\\\"dataSource.isPreloadTextViewed$ | async\\\">Please wait....</div>\\r\\n\\t\\t</div>\\r\\n\\r\\n\\t\\t<!-- start: BOTTOM -->\\r\\n\\t\\t<div class=\\\"mat-table__bottom\\\">\\r\\n\\t\\t\\t<mat-spinner [diameter]=\\\"20\\\" *ngIf=\\\"dataSource.loading$ | async\\\"></mat-spinner>\\r\\n\\t\\t\\t<mat-paginator [pageSize]=\\\"10\\\" [pageSizeOptions]=\\\"[3, 5, 10]\\\" [length]=\\\"dataSource.paginatorTotal$ | async\\\" [showFirstLastButtons]=\\\"true\\\"></mat-paginator>\\r\\n\\t\\t</div>\\r\\n\\t\\t<!-- end: BOTTOM -->\\r\\n\\t</kt-portlet-body>\\r\\n\\t<!-- end::Body -->\\r\\n</kt-portlet>\\r\\n\"","// Angular\r\nimport { Component, OnInit, ElementRef, ViewChild, ChangeDetectionStrategy, OnDestroy } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\n// Material\r\nimport { MatPaginator, MatSort, MatDialog } from '@angular/material';\r\nimport { SelectionModel } from '@angular/cdk/collections';\r\n// RXJS\r\nimport { debounceTime, distinctUntilChanged, tap, skip, delay } from 'rxjs/operators';\r\nimport { fromEvent, merge, Observable, of, Subscription } from 'rxjs';\r\n// NGRX\r\nimport { Store, select } from '@ngrx/store';\r\nimport { AppState } from '../../../../../../core/reducers';\r\n// UI\r\nimport { SubheaderService } from '../../../../../../core/_base/layout';\r\n// CRUD\r\nimport { LayoutUtilsService, MessageType, QueryParamsModel } from '../../../../../../core/_base/crud';\r\n// Services and Models\r\nimport {\r\n\tProductModel,\r\n\tProductsDataSource,\r\n\tProductsPageRequested,\r\n\tOneProductDeleted,\r\n\tManyProductsDeleted,\r\n\tProductsStatusUpdated,\r\n\tselectProductsPageLastQuery\r\n} from '../../../../../../core/e-commerce';\r\n\r\n// Table with EDIT item in new page\r\n// ARTICLE for table with sort/filter/paginator\r\n// https://blog.angular-university.io/angular-material-data-table/\r\n// https://v5.material.angular.io/components/table/overview\r\n// https://v5.material.angular.io/components/sort/overview\r\n// https://v5.material.angular.io/components/table/overview#sorting\r\n// https://www.youtube.com/watch?v=NSt9CI3BXv4\r\n@Component({\r\n\t// tslint:disable-next-line:component-selector\r\n\tselector: 'kt-products-list',\r\n\ttemplateUrl: './products-list.component.html',\r\n\tchangeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class ProductsListComponent implements OnInit, OnDestroy {\r\n\t// Table fields\r\n\tdataSource: ProductsDataSource;\r\n\tdisplayedColumns = ['select', 'VINCode', 'manufacture', 'model', 'modelYear', 'color', 'price', 'condition', 'status', 'actions'];\r\n\t@ViewChild(MatPaginator) paginator: MatPaginator;\r\n\t@ViewChild('sort1') sort: MatSort;\r\n\t// Filter fields\r\n\t@ViewChild('searchInput') searchInput: ElementRef;\r\n\tfilterStatus: string = '';\r\n\tfilterCondition: string = '';\r\n\tlastQuery: QueryParamsModel;\r\n\t// Selection\r\n\tselection = new SelectionModel<ProductModel>(true, []);\r\n\tproductsResult: ProductModel[] = [];\r\n\tprivate subscriptions: Subscription[] = [];\r\n\r\n\t/**\r\n\t * Component constructor\r\n\t *\r\n\t * @param dialog: MatDialog\r\n\t * @param activatedRoute: ActivatedRoute\r\n\t * @param router: Router\r\n\t * @param subheaderService: SubheaderService\r\n\t * @param layoutUtilsService: LayoutUtilsService\r\n\t * @param store: Store<AppState>\r\n\t */\r\n\tconstructor(public dialog: MatDialog,\r\n\t\tprivate activatedRoute: ActivatedRoute,\r\n\t\tprivate router: Router,\r\n\t\tprivate subheaderService: SubheaderService,\r\n\t\tprivate layoutUtilsService: LayoutUtilsService,\r\n\t\tprivate store: Store<AppState>) { }\r\n\r\n\t/**\r\n\t * @ Lifecycle sequences => https://angular.io/guide/lifecycle-hooks\r\n\t */\r\n\r\n\t/**\r\n\t * On init\r\n\t */\r\n\tngOnInit() {\r\n\t\t// If the user changes the sort order, reset back to the first page.\r\n\t\tconst sortSubscription = this.sort.sortChange.subscribe(() => (this.paginator.pageIndex = 0));\r\n\t\tthis.subscriptions.push(sortSubscription);\r\n\r\n\t\t/* Data load will be triggered in two cases:\r\n\t\t- when a pagination event occurs => this.paginator.page\r\n\t\t- when a sort event occurs => this.sort.sortChange\r\n\t\t**/\r\n\t\tconst paginatorSubscriptions = merge(this.sort.sortChange, this.paginator.page).pipe(\r\n\t\t\ttap(() => this.loadProductsList())\r\n\t\t)\r\n\t\t.subscribe();\r\n\t\tthis.subscriptions.push(paginatorSubscriptions);\r\n\r\n\t\t// Filtration, bind to searchInput\r\n\t\tconst searchSubscription = fromEvent(this.searchInput.nativeElement, 'keyup').pipe(\r\n\t\t\tdebounceTime(150),\r\n\t\t\tdistinctUntilChanged(),\r\n\t\t\ttap(() => {\r\n\t\t\t\tthis.paginator.pageIndex = 0;\r\n\t\t\t\tthis.loadProductsList();\r\n\t\t\t})\r\n\t\t)\r\n\t\t.subscribe();\r\n\t\tthis.subscriptions.push(searchSubscription);\r\n\r\n\t\t// Set title to page breadCrumbs\r\n\t\tthis.subheaderService.setTitle('Products');\r\n\r\n\t\t// Init DataSource\r\n\t\tthis.dataSource = new ProductsDataSource(this.store);\r\n\t\tconst entitiesSubscription = this.dataSource.entitySubject.pipe(\r\n\t\t\tskip(1),\r\n\t\t\tdistinctUntilChanged()\r\n\t\t).subscribe(res => {\r\n\t\t\tthis.productsResult = res;\r\n\t\t});\r\n\t\tthis.subscriptions.push(entitiesSubscription);\r\n\t\tconst lastQuerySubscription = this.store.pipe(select(selectProductsPageLastQuery)).subscribe(res => this.lastQuery = res);\r\n\t\t// Load last query from store\r\n\t\tthis.subscriptions.push(lastQuerySubscription);\r\n\r\n\t\t// Read from URL itemId, for restore previous state\r\n\t\tconst routeSubscription = this.activatedRoute.queryParams.subscribe(params => {\r\n\t\t\tif (params.id) {\r\n\t\t\t\tthis.restoreState(this.lastQuery, +params.id);\r\n\t\t\t}\r\n\r\n\t\t\t// First load\r\n\t\t\tof(undefined).pipe(delay(1000)).subscribe(() => { // Remove this line, just loading imitation\r\n\t\t\t\tthis.loadProductsList();\r\n\t\t\t}); // Remove this line, just loading imitation\r\n\t\t});\r\n\t\tthis.subscriptions.push(routeSubscription);\r\n\t}\r\n\r\n\t/**\r\n\t * On Destroy\r\n\t */\r\n\tngOnDestroy() {\r\n\t\tthis.subscriptions.forEach(el => el.unsubscribe());\r\n\t}\r\n\r\n\t/**\r\n\t * Load Products List\r\n\t */\r\n\tloadProductsList() {\r\n\t\tthis.selection.clear();\r\n\t\tconst queryParams = new QueryParamsModel(\r\n\t\t\tthis.filterConfiguration(),\r\n\t\t\tthis.sort.direction,\r\n\t\t\tthis.sort.active,\r\n\t\t\tthis.paginator.pageIndex,\r\n\t\t\tthis.paginator.pageSize\r\n\t\t);\r\n\t\t// Call request from server\r\n\t\tthis.store.dispatch(new ProductsPageRequested({ page: queryParams }));\r\n\t\tthis.selection.clear();\r\n\t}\r\n\r\n\t/**\r\n\t * Returns object for filter\r\n\t */\r\n\tfilterConfiguration(): any {\r\n\t\tconst filter: any = {};\r\n\t\tconst searchText: string = this.searchInput.nativeElement.value;\r\n\r\n\t\tif (this.filterStatus && this.filterStatus.length > 0) {\r\n\t\t\tfilter.status = +this.filterStatus;\r\n\t\t}\r\n\r\n\t\tif (this.filterCondition && this.filterCondition.length > 0) {\r\n\t\t\tfilter.condition = +this.filterCondition;\r\n\t\t}\r\n\r\n\t\tfilter.model = searchText;\r\n\r\n\t\tfilter.manufacture = searchText;\r\n\t\tfilter.color = searchText;\r\n\t\tfilter.VINCode = searchText;\r\n\t\treturn filter;\r\n\t}\r\n\r\n\t/**\r\n\t * Restore state\r\n\t *\r\n\t * @param queryParams: QueryParamsModel\r\n\t * @param id: number\r\n\t */\r\n\trestoreState(queryParams: QueryParamsModel, id: number) {\r\n\r\n\t\tif (!queryParams.filter) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ('condition' in queryParams.filter) {\r\n\t\t\tthis.filterCondition = queryParams.filter.condition.toString();\r\n\t\t}\r\n\r\n\t\tif ('status' in queryParams.filter) {\r\n\t\t\tthis.filterStatus = queryParams.filter.status.toString();\r\n\t\t}\r\n\r\n\t\tif (queryParams.filter.model) {\r\n\t\t\tthis.searchInput.nativeElement.value = queryParams.filter.model;\r\n\t\t}\r\n\t}\r\n\r\n\t/** ACTIONS */\r\n\t/**\r\n\t * Delete product\r\n\t *\r\n\t * @param _item: ProductModel\r\n\t */\r\n\tdeleteProduct(_item: ProductModel) {\r\n\t\tconst _title: string = 'Product Delete';\r\n\t\tconst _description: string = 'Are you sure to permanently delete this product?';\r\n\t\tconst _waitDesciption: string = 'Product is deleting...';\r\n\t\tconst _deleteMessage = `Product has been deleted`;\r\n\r\n\t\tconst dialogRef = this.layoutUtilsService.deleteElement(_title, _description, _waitDesciption);\r\n\t\tdialogRef.afterClosed().subscribe(res => {\r\n\t\t\tif (!res) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.store.dispatch(new OneProductDeleted({ id: _item.id }));\r\n\t\t\tthis.layoutUtilsService.showActionNotification(_deleteMessage, MessageType.Delete);\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Delete products\r\n\t */\r\n\tdeleteProducts() {\r\n\t\tconst _title: string = 'Products Delete';\r\n\t\tconst _description: string = 'Are you sure to permanently delete selected products?';\r\n\t\tconst _waitDesciption: string = 'Products are deleting...';\r\n\t\tconst _deleteMessage = 'Selected products have been deleted';\r\n\r\n\t\tconst dialogRef = this.layoutUtilsService.deleteElement(_title, _description, _waitDesciption);\r\n\t\tdialogRef.afterClosed().subscribe(res => {\r\n\t\t\tif (!res) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst idsForDeletion: number[] = [];\r\n\t\t\t// tslint:disable-next-line:prefer-for-of\r\n\t\t\tfor (let i = 0; i < this.selection.selected.length; i++) {\r\n\t\t\t\tidsForDeletion.push(this.selection.selected[i].id);\r\n\t\t\t}\r\n\t\t\tthis.store.dispatch(new ManyProductsDeleted({ ids: idsForDeletion }));\r\n\t\t\tthis.layoutUtilsService.showActionNotification(_deleteMessage, MessageType.Delete);\r\n\t\t\tthis.selection.clear();\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Fetch selected products\r\n\t */\r\n\tfetchProducts() {\r\n\t\t// tslint:disable-next-line:prefer-const\r\n\t\tlet messages = [];\r\n\t\tthis.selection.selected.forEach(elem => {\r\n\t\t\tmessages.push({\r\n\t\t\t\ttext: `${elem.manufacture} ${elem.model} ${elem.modelYear}`,\r\n\t\t\t\tid: elem.VINCode,\r\n\t\t\t\tstatus: elem.status\r\n\t\t\t});\r\n\t\t});\r\n\t\tthis.layoutUtilsService.fetchElements(messages);\r\n\t}\r\n\r\n\t/**\r\n\t * Update status dialog\r\n\t */\r\n\tupdateStatusForProducts() {\r\n\t\tconst _title = 'Update status for selected products';\r\n\t\tconst _updateMessage = 'Status has been updated for selected products';\r\n\t\tconst _statuses = [{ value: 0, text: 'Selling' }, { value: 1, text: 'Sold' }];\r\n\t\tconst _messages = [];\r\n\r\n\t\tthis.selection.selected.forEach(elem => {\r\n\t\t\t_messages.push({\r\n\t\t\t\ttext: `${elem.manufacture} ${elem.model} ${elem.modelYear}`,\r\n\t\t\t\tid: elem.VINCode,\r\n\t\t\t\tstatus: elem.status,\r\n\t\t\t\tstatusTitle: this.getItemStatusString(elem.status),\r\n\t\t\t\tstatusCssClass: this.getItemCssClassByStatus(elem.status)\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tconst dialogRef = this.layoutUtilsService.updateStatusForEntities(_title, _statuses, _messages);\r\n\t\tdialogRef.afterClosed().subscribe(res => {\r\n\t\t\tif (!res) {\r\n\t\t\t\tthis.selection.clear();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.store.dispatch(new ProductsStatusUpdated({\r\n\t\t\t\tstatus: +res,\r\n\t\t\t\tproducts: this.selection.selected\r\n\t\t\t}));\r\n\r\n\t\t\tthis.layoutUtilsService.showActionNotification(_updateMessage, MessageType.Update);\r\n\t\t\tthis.selection.clear();\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Redirect to edit page\r\n\t *\r\n\t * @param id: any\r\n\t */\r\n\teditProduct(id) {\r\n\t\tthis.router.navigate(['../products/edit', id], { relativeTo: this.activatedRoute });\r\n\t}\r\n\r\n\t/**\r\n\t * Check all rows are selected\r\n\t */\r\n\tisAllSelected() {\r\n\t\tconst numSelected = this.selection.selected.length;\r\n\t\tconst numRows = this.productsResult.length;\r\n\t\treturn numSelected === numRows;\r\n\t}\r\n\r\n\t/**\r\n\t * Selects all rows if they are not all selected; otherwise clear selection\r\n\t */\r\n\tmasterToggle() {\r\n\t\tif (this.isAllSelected()) {\r\n\t\t\tthis.selection.clear();\r\n\t\t} else {\r\n\t\t\tthis.productsResult.forEach(row => this.selection.select(row));\r\n\t\t}\r\n\t}\r\n\r\n\t/* UI */\r\n\t/**\r\n\t * Returns status string\r\n\t *\r\n\t * @param status: number\r\n\t */\r\n\tgetItemStatusString(status: number = 0): string {\r\n\t\tswitch (status) {\r\n\t\t\tcase 0:\r\n\t\t\t\treturn 'Selling';\r\n\t\t\tcase 1:\r\n\t\t\t\treturn 'Sold';\r\n\t\t}\r\n\t\treturn '';\r\n\t}\r\n\r\n\t/**\r\n\t * Returns CSS Class by status\r\n\t *\r\n\t * @param status: number\r\n\t */\r\n\tgetItemCssClassByStatus(status: number = 0): string {\r\n\t\tswitch (status) {\r\n\t\t\tcase 0:\r\n\t\t\t\treturn 'success';\r\n\t\t\tcase 1:\r\n\t\t\t\treturn 'metal';\r\n\t\t}\r\n\t\treturn '';\r\n\t}\r\n\r\n\t/**\r\n\t * Rerurns condition string\r\n\t *\r\n\t * @param condition: number\r\n\t */\r\n\tgetItemConditionString(condition: number = 0): string {\r\n\t\tswitch (condition) {\r\n\t\t\tcase 0:\r\n\t\t\t\treturn 'New';\r\n\t\t\tcase 1:\r\n\t\t\t\treturn 'Used';\r\n\t\t}\r\n\t\treturn '';\r\n\t}\r\n\r\n\t/**\r\n\t * Returns CSS Class by condition\r\n\t *\r\n\t * @param condition: number\r\n\t */\r\n\tgetItemCssClassByCondition(condition: number = 0): string {\r\n\t\tswitch (condition) {\r\n\t\t\tcase 0:\r\n\t\t\t\treturn 'accent';\r\n\t\t\tcase 1:\r\n\t\t\t\treturn 'primary';\r\n\t\t}\r\n\t\treturn '';\r\n\t}\r\n}\r\n"],"sourceRoot":""}